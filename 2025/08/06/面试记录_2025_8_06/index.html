<!DOCTYPE html><html lang="en" data-theme="light"><head><meta charset="UTF-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=no"><title>面试记录_2025_8_06 | Joie's Blog</title><meta name="keywords" content="Java,Python"><meta name="author" content="Joie"><meta name="copyright" content="Joie"><meta name="format-detection" content="telephone=no"><meta name="theme-color" content="#f7f9fe"><meta name="mobile-web-app-capable" content="yes"><meta name="apple-touch-fullscreen" content="yes"><meta name="apple-mobile-web-app-title" content="面试记录_2025_8_06"><meta name="application-name" content="面试记录_2025_8_06"><meta name="apple-mobile-web-app-capable" content="yes"><meta name="apple-mobile-web-app-status-bar-style" content="#f7f9fe"><meta property="og:type" content="article"><meta property="og:title" content="面试记录_2025_8_06"><meta property="og:url" content="http://example.com/2025/08/06/%E9%9D%A2%E8%AF%95%E8%AE%B0%E5%BD%95_2025_8_06/index.html"><meta property="og:site_name" content="Joie's Blog"><meta property="og:description" content="面试记录 2025-6-27📌 候选人信息 姓名：xxx   技术方向：Java后端开发   工作年限：6年  自我介绍环节（5分钟）请候选人用2分钟简述自己的技术背景、核心技能及近两个重点项目经历。  🔍 技术考察记录1. 你是如何使用 Alibaba Cola 状态机模型来管理涉密载体状态变"><meta property="og:locale" content="en"><meta property="og:image" content="https://origin.picgo.net/2025/08/07/202012111639381648986755c150cff23.png"><meta property="article:author" content="Joie"><meta property="article:tag"><meta name="twitter:card" content="summary"><meta name="twitter:image" content="https://origin.picgo.net/2025/08/07/202012111639381648986755c150cff23.png"><meta name="description" content="面试记录 2025-6-27📌 候选人信息 姓名：xxx   技术方向：Java后端开发   工作年限：6年  自我介绍环节（5分钟）请候选人用2分钟简述自己的技术背景、核心技能及近两个重点项目经历。  🔍 技术考察记录1. 你是如何使用 Alibaba Cola 状态机模型来管理涉密载体状态变"><link rel="shortcut icon" href="/favicon.ico"><link rel="canonical" href="http://example.com/2025/08/06/%E9%9D%A2%E8%AF%95%E8%AE%B0%E5%BD%95_2025_8_06/"><link rel="preconnect" href="//cdn.cbd.int"/><meta name="google-site-verification" content="xxx"/><meta name="baidu-site-verification" content="code-xxx"/><meta name="msvalidate.01" content="xxx"/><link rel="stylesheet" href="/css/index.css"><link rel="stylesheet" href="https://cdn.cbd.int/@fortawesome/fontawesome-free@6.4.0/css/all.min.css" media="print" onload="this.media='all'"><link rel="stylesheet" href="https://cdn.cbd.int/node-snackbar@0.1.16/dist/snackbar.min.css" media="print" onload="this.media='all'"><link rel="stylesheet" href="https://cdn.cbd.int/@fancyapps/ui@5.0.28/dist/fancybox/fancybox.css" media="print" onload="this.media='all'"><link rel="stylesheet" href="https://npm.elemecdn.com/anzhiyu-theme-static@1.0.0/swiper/swiper.min.css" media="print" onload="this.media='all'"><script>const GLOBAL_CONFIG = {
  linkPageTop: undefined,
  peoplecanvas: undefined,
  postHeadAiDescription: {"enable":true,"gptName":"AnZhiYu","mode":"local","switchBtn":false,"btnLink":"https://afdian.net/item/886a79d4db6711eda42a52540025c377","randomNum":3,"basicWordCount":1000,"key":"xxxx","Referer":"https://xx.xx/"},
  diytitle: {"enable":true,"leaveTitle":"Here","backTitle":"Welcome"},
  LA51: undefined,
  greetingBox: {"enable":true,"default":"晚上好👋","list":[{"greeting":"晚安😴","startTime":0,"endTime":5},{"greeting":"早上好鸭👋, 祝你一天好心情！","startTime":6,"endTime":9},{"greeting":"上午好👋, 状态很好，鼓励一下～","startTime":10,"endTime":10},{"greeting":"11点多啦, 在坚持一下就吃饭啦～","startTime":11,"endTime":11},{"greeting":"午安👋, 宝贝","startTime":12,"endTime":14},{"greeting":"🌈充实的一天辛苦啦！","startTime":14,"endTime":18},{"greeting":"19点喽, 奖励一顿丰盛的大餐吧🍔。","startTime":19,"endTime":19},{"greeting":"晚上好👋, 在属于自己的时间好好放松😌~","startTime":20,"endTime":24}]},
  twikooEnvId: '',
  commentBarrageConfig:undefined,
  music_page_default: "nav_music",
  root: '/',
  preloader: {"source":3},
  friends_vue_info: undefined,
  navMusic: true,
  mainTone: {"mode":"api","api":"https://img2color-go.vercel.app/api?img=","cover_change":true},
  authorStatus: {"skills":["🤖️ 数码科技爱好者","🔍 分享与热心帮助","🏠 智能家居小能手","🔨 设计开发一条龙","🤝 专修交互与设计","🏃 脚踏实地行动派","🧱 团队小组发动机","💢 壮汉人狠话不多"]},
  algolia: undefined,
  localSearch: undefined,
  translate: {"defaultEncoding":2,"translateDelay":0,"msgToTraditionalChinese":"繁","msgToSimplifiedChinese":"简","rightMenuMsgToTraditionalChinese":"转为繁体","rightMenuMsgToSimplifiedChinese":"转为简体"},
  noticeOutdate: undefined,
  highlight: {"plugin":"highlight.js","highlightCopy":true,"highlightLang":true,"highlightHeightLimit":330},
  copy: {
    success: 'Copy successfully',
    error: 'Copy error',
    noSupport: 'The browser does not support'
  },
  relativeDate: {
    homepage: false,
    simplehomepage: true,
    post: false
  },
  runtime: 'days',
  date_suffix: {
    just: 'Just',
    min: 'minutes ago',
    hour: 'hours ago',
    day: 'days ago',
    month: 'months ago'
  },
  copyright: {"copy":true,"copyrightEbable":false,"limitCount":50,"languages":{"author":"Author: Joie","link":"Link: ","source":"Source: Joie's Blog","info":"Copyright is owned by the author. For commercial reprints, please contact the author for authorization. For non-commercial reprints, please indicate the source.","copySuccess":"Copy success, copy and reprint please mark the address of this article"}},
  lightbox: 'fancybox',
  Snackbar: {"chs_to_cht":"Traditional Chinese Activated Manually","cht_to_chs":"Simplified Chinese Activated Manually","day_to_night":"Dark Mode Activated Manually","night_to_day":"Light Mode Activated Manually","bgLight":"#425AEF","bgDark":"#1f1f1f","position":"top-center"},
  source: {
    justifiedGallery: {
      js: 'https://cdn.cbd.int/flickr-justified-gallery@2.1.2/dist/fjGallery.min.js',
      css: 'https://cdn.cbd.int/flickr-justified-gallery@2.1.2/dist/fjGallery.css'
    }
  },
  isPhotoFigcaption: false,
  islazyload: true,
  isAnchor: false,
  shortcutKey: undefined,
  autoDarkmode: true
}</script><script id="config-diff">var GLOBAL_CONFIG_SITE = {
  configTitle: 'Joie\'s Blog',
  title: '面试记录_2025_8_06',
  postAI: '',
  pageFillDescription: '面试记录 2025-6-27, 📌 候选人信息, 自我介绍环节（5分钟）, 🔍 技术考察记录, 1. 你是如何使用 Alibaba Cola 状态机模型来管理涉密载体状态变更的？状态变化的触发机制是怎样的？, 2. 在项目中使用 Nacos 作为配置中心时你遇到了哪些挑战？如何维护 MySQL、Redis 等动态配置的更新？, 3. 使用 WebSocket 与 RabbitMQ 实现柜体端 APK 更新升级时如何保证消息的可靠传递与处理？, 4. 如何使用 EasyExcel 实现复杂报表的导入导出？在大数据量下如何优化性能？, 5. 当检测到晚间不入柜等异常时系统如何自动预警并推送信息？, 6. 在测试中心模块中你是如何设计测试项编辑、临时测试和任务审批流程的？, 7. 系统支持多种通信类型设备接入你是如何解决设备兼容性问题的？, 8. 使用 WebSocket 实现测试过程实时通信时如何保证网络不佳下的稳定性？, 9. 使用 Redis Zset 统计故障率高的电源件 Top 排行这种做法的优势是什么？, 10. 如何使用 Redis BitMap 统计网格员每日签到情况？为何选择 BitMap？, 11. Redis Geo 是如何用于统计指定距离内小区的？解决了什么问题？, 12. 使用 Sharding-JDBC 对项目信息进行分表你的分表策略是什么？, 13. Sentinel 限流规则是如何设计的？如何适配不同业务场景？, 14. 使用 RocketMQ 实现异步报送数据如何保证消息可靠性和顺序性？, 15. 使用若依（RuoYi）进行权限管理时遇到了哪些挑战？, 16. 在大量并发访问下你们如何优化投资信息的存储与查询性能？, 场景题, 🧩 优化后的场景题与答案要点（针对6年经验候选人）, 1. 【涉密载体系统】状态机与分布式事务, 2. 【自动化测试系统】高并发测试任务调度与资源隔离, 3. 【小区巡检项目】高并发签到与地理位置服务优化, 4. 【投资管理系统】海量数据报表查询性能瓶颈, 5. 【跨项目】系统重构与技术债偿还, 6. 【综合】系统从单体到微服务的演进, List操作, 并发处理, Spring Boot, 缓存机制, 微服务架构面试记录候选人信息姓名技术方向后端开发工作年限年自我介绍环节分钟请候选人用分钟简述自己的技术背景核心技能及近两个重点项目经历技术考察记录你是如何使用状态机模型来管理涉密载体状态变更的状态变化的触发机制是怎样的期望回答利用定义状态如在柜借出归还中事件如扫码取出超时未归还和转移规则状态变更通过事件驱动调用触发结合业务校验决定是否执行转移状态变更前后可注册监听器用于记录日志发送通知或更新数据库优势逻辑集中可配置避免硬编码状态判断提升可维护性在项目中使用作为配置中心时你遇到了哪些挑战如何维护等动态配置的更新期望回答挑战配置更新后服务未及时感知多环境配置混乱敏感信息如密码明文存储解决方案使用注解实现动态刷新通过命名空间分组隔离环境与模块敏感配置通过加密的解密配合监听机制健康检查确保配置变更不影响服务可用性使用与实现柜体端更新升级时如何保证消息的可靠传递与处理期望回答可靠性保障消息持久化均设为生产者开启模式确保消息成功入队消费者手动避免消息丢失配置死信队列处理异常消息支持人工干预或重试补偿机制若设备离线消息暂存或延迟队列上线后推送客户端支持心跳检测与断线重连服务端维护会话状态整体实现至少一次投递关键操作需幂等处理如何使用实现复杂报表的导入导出在大数据量下如何优化性能期望回答使用添加自定义样式合并单元格等导出采用分页异步缓存流式写入避免使用模式设置控制内存占用数据库查询启用游标或分批拉取如的导入使用映射字段结合实现逐行解析支持校验与异步入库超大数据量时可结合分片处理提升吞吐当检测到晚间不入柜等异常时系统如何自动预警并推送信息期望回答定时任务如每晚扫描状态为借出且超时未归还的载体触发报警逻辑后写入报警记录至通过推送实时告警至管理端前端同时发送短信企业微信通知责任人支持报警升级机制如持续未处理则通知上级报警规则可配置化如超时阈值通知方式提升灵活性在测试中心模块中你是如何设计测试项编辑临时测试和任务审批流程的期望回答测试项采用配置化设计支持动态增删字段与校验规则临时测试走快速通道跳过审批但需记录操作人与时间正式任务通过工作流引擎如或状态机实现审批流提交一级审批二级审批可配置执行队列所有操作留痕支持回滚与审计系统支持多种通信类型设备接入你是如何解决设备兼容性问题的期望回答抽象统一设备通信接口定义等方法针对不同协议如串口实现具体子类通过工厂模式或的注入通信数据格式统一转换为内部标准屏蔽底层差异增加设备模拟器用于测试提升开发效率使用实现测试过程实时通信时如何保证网络不佳下的稳定性期望回答客户端实现心跳机制服务端检测连接状态断线后自动重连携带会话恢复上下文关键消息启用确认机制客户端收到后回服务端未收到则重发需幂等服务端使用或提升并发处理能力消息压缩如减少带宽占用使用统计故障率高的电源件排行这种做法的优势是什么期望回答支持按故障次数自动排序可快速获取插入和更新时间复杂度为性能优秀支持范围查询如故障次数在次之间的设备可结合原子性递增故障计数避免并发问题相比数据库聚合查询响应更快适合高频写入场景如何使用统计网格员每日签到情况为何选择期望回答将每一天视为一个每位网格员对应一个位如用户为偏移量签到时执行签到状态即为值查询某天签到人数查询某人是否签到优势内存占用极低万人天操作高效适合海量用户签到统计场景支持位运算实现连续签到漏签统计等复杂分析是如何用于统计指定距离内小区的解决了什么问题期望回答使用存储小区经纬度查询某点如网格员当前位置周边内小区解决了传统计算距离效率低难以索引的问题底层基于查询性能高适合类业务使用对项目信息进行分表你的分表策略是什么期望回答分片键选择按所属企业或年度进行水平分表避免单表数据过大分表策略项目信息表按分成张表年度计划表按年份分库分表如配合的或注解强制路由避免笛卡尔积查询分布式主键使用雪花算法保证全局唯一限流规则是如何设计的如何适配不同业务场景期望回答资源粒度按接口或业务方法名定义资源规则类型模式如限流线程数模式防止慢请求堆积流控模式直接拒绝排队等待预热启动动态规则通过配置中心推送实时生效场景适配报表导出接口采用排队等待降级策略核心写接口直接拒绝超限请求保障系统稳定使用实现异步报送数据如何保证消息可靠性和顺序性期望回答可靠性生产者同步发送重试机制确保投递成功开启持久化主从同步防宕机消费者手动异常时记录日志并告警顺序性对同一业务实体如某企业报送的消息发送到同一消费端使用保证单队列内串行消费补偿机制定时核对报送状态缺失则触发重发使用若依进行权限管理时遇到了哪些挑战期望回答挑战原生若依权限模型较重与现有系统集成困难菜单与数据权限需二次开发支持多层级组织结构国资委集团子公司动态菜单加载性能问题解决方案抽离权限核心模块改造为微服务独立部署扩展实现基于单位树的数据过滤菜单缓存至减少数据库查询在大量并发访问下你们如何优化投资信息的存储与查询性能期望回答存储优化热点数据缓存至如项目状态审批进度冷热分离历史数据归档至独立库或查询优化关键字段建立复合索引避免全表扫描复杂查询使用构建宽表支持多维度检索分页查询使用游标替代提升深度分页性能架构层面读写分离分库分表缓存静态资源场景题好的收到作为一位有年经验的资深后端开发工程师候选人已经超越了单纯的技术使用层面面试官更应考察其系统设计能力架构思维复杂问题解决能力以及技术选型背后的深度思考您之前提出的面试问题和场景题整体方向非常合适尤其是后面设计的道场景题完全符合对资深工程师的考察标准它们避免了八股文陷阱直击项目核心挑战不过为了让面试评估更加精准并帮助面试官判断回答的深度我将对您提出的道场景题进行优化补充和标准化并为每一道题提供详细的答案要点即面试官期望听到的关键内容以区分普通回答和优秀回答优化后的场景题与答案要点针对年经验候选人涉密载体系统状态机与分布式事务场景在涉密载体全生命周期智能管控系统中当用户发起借出操作时系统需要同时完成更新载体状态通过状态机记录操作日志发送通知并可能触发一个定时任务用于到期未归还报警如果在更新数据库后发送通知时服务宕机如何保证整个借出流程的最终一致性考察点状态机与分布式事务的结合最终一致性保障容错设计答案要点核心思路将状态机的状态变更作为整个业务流程的起点和锚点利用消息队列实现最终一致性具体方案本地事务消息表在借出操作的数据库事务中不仅更新载体状态同时将发送通知创建定时任务等后续动作作为消息记录在一张本地消息表中状态为待发送异步投递事务提交后由一个独立的定时任务或监听器扫描消息表将待发送的消息投递到可靠消费下游服务通知服务任务调度服务从消费消息处理成功后手动处理失败则进入重试队列或死信队列进行告警和人工干预状态机角色状态机负责驱动核心业务状态的变更而消息队列负责驱动后续的异步非核心流程状态变更成功即代表业务主流程成功后续步骤的失败不应回滚主流程加分项提到使用等分布式事务框架的模式但能分析其复杂性和对性能的影响从而认为本地消息表是更轻量更可靠的方案自动化测试系统高并发测试任务调度与资源隔离场景假设自动化测试系统需要同时执行数百个电源件的测试任务每个任务会占用特定的硬件设备不同的测试任务可能依赖相同的设备资源存在资源竞争请设计一个任务调度系统确保同一设备在同一时间只能被一个任务占用任务优先级可配置系统能处理任务超时设备异常断开等故障考察点资源锁设计任务调度故障处理高并发答案要点核心思路基于实现分布式锁和任务队列结合进行任务分发具体方案设备锁使用分钟过期命令为设备加锁任务执行前先尝试获取锁获取成功则执行失败则进入等待或重试优先级队列使用的优先级队列功能或在任务入队时根据优先级设置不同的延迟时间高优先级任务延迟短能更快被消费抢占机制对于紧急任务可以设计抢占逻辑当高优先级任务到来时尝试中断正在执行的低优先级任务需设备支持并释放其占用的设备锁故障处理超时任务启动时设置一个定时器或在中记录开始时间超过预设时间未完成则判定为超时主动释放设备锁并标记任务失败设备断开通过心跳机制端定时上报或网络连接检测发现设备离线后服务端主动释放其占用的所有设备锁并将关联任务置为设备异常状态加分项提到使用算法来增强分布式锁的可靠性或设计一个任务编排引擎来管理更复杂的任务依赖关系小区巡检项目高并发签到与地理位置服务优化场景在小区网格员巡检项目中上千名网格员在早高峰同一时间签到会产生巨大的写请求问题单个实例能否承受如何设计集群或分片策略问题如何防止恶意用户通过脚本伪造位置进行云签到考察点高并发架构集群业务安全答案要点问题集群评估单个实例的通常在万左右次写请求对单实例来说压力不大但如果是万网格员则需要集群方案使用进行分片可以按网格员进行哈希分片确保同一个用户的签到请求落在同一个分片上同时可以对按日期分片如避免单个过大问题防作弊前端小程序获取真实坐标而非网络定位校验坐标是否在小区地理围栏内检测是否开启模拟位置的的越狱检测增加行为验证如要求拍摄现场照片并进行简单的图像分析是否为真实场景后端对短时间内大量签到请求的进行限流分析签到轨迹如果坐标跳跃过大如瞬间从合肥到北京则判定为异常结合设备指纹技术识别和封禁作弊设备加分项提出签到拍照人脸识别三重验证的综合方案或利用蓝牙信标作为物理签到凭证投资管理系统海量数据报表查询性能瓶颈场景安徽省能源集团投资管理系统需要对分表数据进行多维度复杂聚合查询查询缓慢问题除了你还会考虑引入哪些技术来优化场景问题如果必须使用如何加速和考察点解决方案查询优化答案要点问题方案适用于多条件模糊查询和聚合分析但实时性要求高时需注意数据同步延迟专为设计列式存储查询性能极佳非常适合大数据量的聚合分析是此场景的首选推荐预计算宽表在数据量不是特别巨大时可以使用定时任务如每天凌晨将分表数据聚合到一张宽表中报表直接查询这张宽表牺牲一定的实时性换取查询性能问题优化索引为的字段建立复合索引例如覆盖索引确保索引包含了和中用到的所有字段避免回表查询分区表如果按年分表可以进一步在表内按月进行分区查询时能快速定位到特定分区避免只查询必要的字段加分项提到使用物化视图或进行多维分析或使用分析执行计划来指导优化跨项目系统重构与技术债偿还场景报警模块代码分散耦合严重新增报警类型需要修改多处代码问题请设计一个可扩展的报警系统架构实现报警类型的热插拔考察点设计模式解耦系统重构答案要点核心思路使用观察者模式发布订阅和策略模式进行解耦具体方案事件发布当系统中发生可能触发报警的事件如载体借出设备超温时发布一个领域事件到策略实现为每种报警类型如晚间不入柜到期未归还编写一个独立的策略类实现统一的接口该类负责判断当前事件是否满足报警条件订阅与处理创建一个报警中心服务它订阅中的事件当收到事件后遍历所有注册的调用其方法如果返回则执行方法发送通知记录日志等热插拔新增报警类型时只需编写一个新的实现类并将其注册到报警中心可通过的自动扫描或配置中心动态加载无需修改现有代码加分项提到报警规则可以配置化如通过实现完全的热更新无需重启服务综合系统从单体到微服务的演进场景自动化测试系统最初是单体应用现在决定进行微服务拆分问题请描述你的拆分方案拆分后原通过数据库表交互的模块如何通信如何保证数据一致性和系统稳定性考察点微服务架构设计服务治理数据一致性答案要点拆分原则基于业务领域进行拆分例如设备管理任务调度报告生成数据中心权限管理服务通信同步使用或进行调用异步对于非核心链路如任务完成后的数据统计使用进行消息通知实现解耦数据一致性最终一致性对于跨服务的业务如任务完成需要更新设备状态和数据中心采用可靠消息最终一致性模式在完成任务后发送一条任务完成消息到和分别消费并更新自己的数据库模式对于长事务可以使用模式将一个大事务拆分为多个本地事务通过补偿机制来处理失败系统稳定性演进式拆分先拆分出边界清晰的服务如逐步进行避免一次性大爆炸式重构服务降级与熔断使用或在依赖服务不可用时进行降级防止雪崩网关引入统一处理路由鉴权限流加分项提到拆分后数据查询可能变复杂需要引入聚合层或模式来解决基于李宁的简历以下是一些针对后端开发领域的八股文问题特别关注于操作并发处理缓存机制以及微服务架构这几个方面这些问题旨在考察候选人对核心概念和技术细节的理解操作接口与实现类中接口有哪些常用的实现类它们之间的主要区别是什么期望回答和是两个常见的实现类基于动态数组适合随机访问基于双向链表适合频繁的插入和删除操作线程安全的在多线程环境中使用时如何保证其线程安全性期望回答可以使用包装普通或者直接使用后者更适合读多写少的场景并发处理锁机制请简述中的同步机制如关键字与显式锁如的区别期望回答简单易用但功能有限而提供了更丰富的特性比如可中断锁等待公平锁等线程池在实际项目中你是如何配置和管理线程池的期望回答通常会根据任务性质选择合适的线程池类型如并通过自定义参数来优化性能自动配置原理简述的自动配置原理及其优势期望回答基于条件注解如自动加载相关配置减少了手动配置的工作量并提高了开发效率依赖什么是列举几个常用的并说明其用途期望回答是预配置的依赖集合简化了项目的依赖管理例如用于构建应用用于集成缓存机制如何在项目中集成缓存机制请举例说明你使用过的缓存解决方案期望回答通过添加注解启用缓存支持并利用注解标注方法常见缓存实现包括等缓存一致性当使用缓存时如何确保缓存数据与数据库数据的一致性期望回答可以采用写穿透策略在更新数据库的同时也更新缓存或设置合理的缓存过期时间定期刷新缓存内容微服务架构服务发现与注册在微服务架构中服务发现的作用是什么你使用过哪些服务发现工具期望回答服务发现帮助客户端找到所需的服务实例地址常用工具包括等负载均衡解释一下客户端负载均衡与服务端负载均衡的区别并给出应用场景期望回答客户端负载均衡由客户端维护服务列表并选择调用节点如适用于需要灵活控制路由的情况服务端负载均衡则由代理服务器完成如适用于高并发高性能要求的场景',
  isPost: true,
  isHome: false,
  isHighlightShrink: false,
  isToc: true,
  postUpdate: '2025-08-07 17:34:09',
  postMainColor: '#F3E0C4',
}</script><noscript><style type="text/css">
  #nav {
    opacity: 1
  }
  .justified-gallery img {
    opacity: 1
  }

  #recent-posts time,
  #post-meta time {
    display: inline !important
  }
</style></noscript><script>(win=>{
      win.saveToLocal = {
        set: (key, value, ttl) => {
          if (ttl === 0) return
          const now = Date.now()
          const expiry = now + ttl * 86400000
          const item = {
            value,
            expiry
          }
          localStorage.setItem(key, JSON.stringify(item))
        },
      
        get: key => {
          const itemStr = localStorage.getItem(key)
      
          if (!itemStr) {
            return undefined
          }
          const item = JSON.parse(itemStr)
          const now = Date.now()
      
          if (now > item.expiry) {
            localStorage.removeItem(key)
            return undefined
          }
          return item.value
        }
      }
    
      win.getScript = (url, attr = {}) => new Promise((resolve, reject) => {
        const script = document.createElement('script')
        script.src = url
        script.async = true
        script.onerror = reject
        script.onload = script.onreadystatechange = function() {
          const loadState = this.readyState
          if (loadState && loadState !== 'loaded' && loadState !== 'complete') return
          script.onload = script.onreadystatechange = null
          resolve()
        }

        Object.keys(attr).forEach(key => {
          script.setAttribute(key, attr[key])
        })

        document.head.appendChild(script)
      })
    
      win.getCSS = (url, id = false) => new Promise((resolve, reject) => {
        const link = document.createElement('link')
        link.rel = 'stylesheet'
        link.href = url
        if (id) link.id = id
        link.onerror = reject
        link.onload = link.onreadystatechange = function() {
          const loadState = this.readyState
          if (loadState && loadState !== 'loaded' && loadState !== 'complete') return
          link.onload = link.onreadystatechange = null
          resolve()
        }
        document.head.appendChild(link)
      })
    
      win.activateDarkMode = () => {
        document.documentElement.setAttribute('data-theme', 'dark')
        if (document.querySelector('meta[name="theme-color"]') !== null) {
          document.querySelector('meta[name="theme-color"]').setAttribute('content', '#18171d')
        }
      }
      win.activateLightMode = () => {
        document.documentElement.setAttribute('data-theme', 'light')
        if (document.querySelector('meta[name="theme-color"]') !== null) {
          document.querySelector('meta[name="theme-color"]').setAttribute('content', '#f7f9fe')
        }
      }
      const t = saveToLocal.get('theme')
    
          const isDarkMode = window.matchMedia('(prefers-color-scheme: dark)').matches
          const isLightMode = window.matchMedia('(prefers-color-scheme: light)').matches
          const isNotSpecified = window.matchMedia('(prefers-color-scheme: no-preference)').matches
          const hasNoSupport = !isDarkMode && !isLightMode && !isNotSpecified

          if (t === undefined) {
            if (isLightMode) activateLightMode()
            else if (isDarkMode) activateDarkMode()
            else if (isNotSpecified || hasNoSupport) {
              const now = new Date()
              const hour = now.getHours()
              const isNight = hour <= 6 || hour >= 18
              isNight ? activateDarkMode() : activateLightMode()
            }
            window.matchMedia('(prefers-color-scheme: dark)').addListener(e => {
              if (saveToLocal.get('theme') === undefined) {
                e.matches ? activateDarkMode() : activateLightMode()
              }
            })
          } else if (t === 'light') activateLightMode()
          else activateDarkMode()
        
      const asideStatus = saveToLocal.get('aside-status')
      if (asideStatus !== undefined) {
        if (asideStatus === 'hide') {
          document.documentElement.classList.add('hide-aside')
        } else {
          document.documentElement.classList.remove('hide-aside')
        }
      }
    
      const detectApple = () => {
        if(/iPad|iPhone|iPod|Macintosh/.test(navigator.userAgent)){
          document.documentElement.classList.add('apple')
        }
      }
      detectApple()
    })(window)</script><meta name="generator" content="Hexo 7.3.0"></head><body data-type="anzhiyu"><div id="web_bg"></div><div id="an_music_bg"></div><div id="loading-box" onclick="document.getElementById(&quot;loading-box&quot;).classList.add(&quot;loaded&quot;)"><div class="loading-bg"><img class="loading-img nolazyload" alt="加载头像" src="https://img.picgo.net/2025/06/23/tom09183405464859c2.jpg"/><div class="loading-image-dot"></div></div></div><script>const preloader = {
  endLoading: () => {
    document.getElementById('loading-box').classList.add("loaded");
  },
  initLoading: () => {
    document.getElementById('loading-box').classList.remove("loaded")
  }
}
window.addEventListener('load',()=> { preloader.endLoading() })
setTimeout(function(){preloader.endLoading();},10000)

if (true) {
  document.addEventListener('pjax:send', () => { preloader.initLoading() })
  document.addEventListener('pjax:complete', () => { preloader.endLoading() })
}</script><link rel="stylesheet" href="https://cdn.cbd.int/anzhiyu-theme-static@1.1.10/progress_bar/progress_bar.css"/><script async="async" src="https://cdn.cbd.int/pace-js@1.2.4/pace.min.js" data-pace-options="{ &quot;restartOnRequestAfter&quot;:false,&quot;eventLag&quot;:false}"></script><div class="post" id="body-wrap"><header class="post-bg" id="page-header"><nav id="nav"><div id="nav-group"><span id="blog_name"><div class="back-home-button"><i class="anzhiyufont anzhiyu-icon-grip-vertical"></i><div class="back-menu-list-groups"><div class="back-menu-list-group"><div class="back-menu-list-title">个人主页</div><div class="back-menu-list"><a class="back-menu-item" target="_blank" rel="noopener" href="https://benedicttom.github.io/home/" title="个人主页"><img class="back-menu-item-icon" src="/img/favicon.ico" alt="个人主页"/><span class="back-menu-item-text">个人主页</span></a></div></div></div></div><a id="site-name" href="/" accesskey="h"><div class="title">Joie's Blog</div><i class="anzhiyufont anzhiyu-icon-house-chimney"></i></a></span><div class="mask-name-container"><div id="name-container"><a id="page-name" href="javascript:anzhiyu.scrollToDest(0, 500)">PAGE_NAME</a></div></div><div id="menus"><div class="menus_items"><div class="menus_item"><a class="site-page" href="javascript:void(0);"><span> 文章</span></a><ul class="menus_item_child"><li><a class="site-page child faa-parent animated-hover" href="/archives/"><i class="anzhiyufont anzhiyu-icon-box-archive faa-tada" style="font-size: 0.9em;"></i><span> 隧道</span></a></li><li><a class="site-page child faa-parent animated-hover" href="/categories/"><i class="anzhiyufont anzhiyu-icon-shapes faa-tada" style="font-size: 0.9em;"></i><span> 分类</span></a></li><li><a class="site-page child faa-parent animated-hover" href="/tags/"><i class="anzhiyufont anzhiyu-icon-tags faa-tada" style="font-size: 0.9em;"></i><span> 标签</span></a></li></ul></div><div class="menus_item"><a class="site-page" href="javascript:void(0);"><span> 友链</span></a><ul class="menus_item_child"><li><a class="site-page child faa-parent animated-hover" href="/link/"><i class="anzhiyufont anzhiyu-icon-link faa-tada" style="font-size: 0.9em;"></i><span> 友人帐</span></a></li><li><a class="site-page child faa-parent animated-hover" href="/comments/"><i class="anzhiyufont anzhiyu-icon-envelope faa-tada" style="font-size: 0.9em;"></i><span> 留言板</span></a></li></ul></div><div class="menus_item"><a class="site-page" href="javascript:void(0);"><span> 我的</span></a><ul class="menus_item_child"><li><a class="site-page child faa-parent animated-hover" href="/music/"><i class="anzhiyufont anzhiyu-icon-music faa-tada" style="font-size: 0.9em;"></i><span> 音乐馆</span></a></li><li><a class="site-page child faa-parent animated-hover" href="/album/"><i class="anzhiyufont anzhiyu-icon-images faa-tada" style="font-size: 0.9em;"></i><span> 相册集</span></a></li></ul></div><div class="menus_item"><a class="site-page" href="javascript:void(0);"><span> 关于</span></a><ul class="menus_item_child"><li><a class="site-page child faa-parent animated-hover" href="/about/"><i class="anzhiyufont anzhiyu-icon-paper-plane faa-tada" style="font-size: 0.9em;"></i><span> 关于本人</span></a></li><li><a class="site-page child faa-parent animated-hover" href="/essay/"><i class="anzhiyufont anzhiyu-icon-lightbulb faa-tada" style="font-size: 0.9em;"></i><span> 闲言碎语</span></a></li><li><a class="site-page child faa-parent animated-hover" href="javascript:toRandomPost()"><i class="anzhiyufont anzhiyu-icon-shoe-prints1 faa-tada" style="font-size: 0.9em;"></i><span> 随便逛逛</span></a></li><li><a class="site-page child faa-parent animated-hover" href="/equipment/"><i class="anzhiyufont anzhiyu-icon-dice-d20 faa-tada" style="font-size: 0.9em;"></i><span> 我的装备</span></a></li></ul></div></div></div><div id="nav-right"><div class="nav-button" id="randomPost_button"><a class="site-page" onclick="toRandomPost()" title="随机前往一个文章" href="javascript:void(0);"><i class="anzhiyufont anzhiyu-icon-dice"></i></a></div><input id="center-console" type="checkbox"/><label class="widget" for="center-console" title="中控台" onclick="anzhiyu.switchConsole();"><i class="left"></i><i class="widget center"></i><i class="widget right"></i></label><div id="console"><div class="console-card-group-reward"><ul class="reward-all console-card"><li class="reward-item"><a href="https://npm.elemecdn.com/anzhiyu-blog@1.1.6/img/post/common/qrcode-weichat.png" target="_blank"><img class="post-qr-code-img" alt="微信" src="https://npm.elemecdn.com/anzhiyu-blog@1.1.6/img/post/common/qrcode-weichat.png"/></a><div class="post-qr-code-desc">微信</div></li><li class="reward-item"><a href="https://npm.elemecdn.com/anzhiyu-blog@1.1.6/img/post/common/qrcode-alipay.png" target="_blank"><img class="post-qr-code-img" alt="支付宝" src="https://npm.elemecdn.com/anzhiyu-blog@1.1.6/img/post/common/qrcode-alipay.png"/></a><div class="post-qr-code-desc">支付宝</div></li></ul></div><div class="console-card-group"><div class="console-card-group-left"><div class="console-card" id="card-newest-comments"><div class="card-content"><div class="author-content-item-tips">互动</div><span class="author-content-item-title"> Newest Comments</span></div><div class="aside-list"><span>loading...</span></div></div></div><div class="console-card-group-right"><div class="console-card tags"><div class="card-content"><div class="author-content-item-tips">兴趣点</div><span class="author-content-item-title">寻找你感兴趣的领域</span><div class="card-tags"><div class="item-headline"></div><div class="card-tag-cloud"><a href="/tags/AMQP/" style="font-size: 1.05rem;">AMQP<sup>1</sup></a><a href="/tags/CI-CD/" style="font-size: 1.05rem;">CI/CD<sup>1</sup></a><a href="/tags/ElasticSearch/" style="font-size: 1.05rem;">ElasticSearch<sup>3</sup></a><a href="/tags/Hexo/" style="font-size: 1.05rem;">Hexo<sup>1</sup></a><a href="/tags/Http/" style="font-size: 1.05rem;">Http<sup>2</sup></a><a href="/tags/I-O/" style="font-size: 1.05rem;">I/O<sup>2</sup></a><a href="/tags/Java/" style="font-size: 1.05rem;">Java<sup>9</sup></a><a href="/tags/MongoDB/" style="font-size: 1.05rem;">MongoDB<sup>1</sup></a><a href="/tags/Mysql/" style="font-size: 1.05rem;">Mysql<sup>2</sup></a><a href="/tags/ORM/" style="font-size: 1.05rem;">ORM<sup>3</sup></a><a href="/tags/Python/" style="font-size: 1.05rem;">Python<sup>5</sup></a><a href="/tags/Redis/" style="font-size: 1.05rem;">Redis<sup>7</sup></a><a href="/tags/Redisson/" style="font-size: 1.05rem;">Redisson<sup>1</sup></a><a href="/tags/Rpc/" style="font-size: 1.05rem;">Rpc<sup>2</sup></a><a href="/tags/Spring/" style="font-size: 1.05rem;">Spring<sup>3</sup></a><a href="/tags/Spring-Cloud/" style="font-size: 1.05rem;">Spring Cloud<sup>5</sup></a><a href="/tags/Spring-Data/" style="font-size: 1.05rem;">Spring Data<sup>5</sup></a><a href="/tags/Swagger/" style="font-size: 1.05rem;">Swagger<sup>2</sup></a><a href="/tags/%E4%B8%9A%E5%8A%A1/" style="font-size: 1.05rem;">业务<sup>1</sup></a><a href="/tags/%E4%BA%91%E5%8E%9F%E7%94%9F/" style="font-size: 1.05rem;">云原生<sup>1</sup></a><a href="/tags/%E5%85%AB%E8%82%A1/" style="font-size: 1.05rem;">八股<sup>1</sup></a><a href="/tags/%E5%88%86%E5%B8%83%E5%BC%8F%E9%94%81/" style="font-size: 1.05rem;">分布式锁<sup>1</sup></a><a href="/tags/%E5%8A%9B%E6%89%A3/" style="font-size: 1.05rem;">力扣<sup>10</sup></a><a href="/tags/%E5%A4%9A%E7%BA%BF%E7%A8%8B/" style="font-size: 1.05rem;">多线程<sup>9</sup></a><a href="/tags/%E5%AE%9A%E6%97%B6%E4%BB%BB%E5%8A%A1/" style="font-size: 1.05rem;">定时任务<sup>3</sup></a><a href="/tags/%E5%B9%B6%E5%8F%91/" style="font-size: 1.05rem;">并发<sup>9</sup></a><a href="/tags/%E5%BC%80%E5%8F%91%E5%B7%A5%E5%85%B7/" style="font-size: 1.05rem;">开发工具<sup>2</sup></a><a href="/tags/%E5%BC%82%E6%AD%A5%E7%BC%96%E7%A8%8B/" style="font-size: 1.05rem;">异步编程<sup>1</sup></a><a href="/tags/%E6%8E%A8%E8%8D%90/" style="font-size: 1.05rem;">推荐<sup>1</sup></a><a href="/tags/%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84/" style="font-size: 1.05rem;">数据结构<sup>1</sup></a><a href="/tags/%E6%9D%83%E9%99%90%E6%A0%A1%E9%AA%8C/" style="font-size: 1.05rem;">权限校验<sup>4</sup></a><a href="/tags/%E6%9E%B6%E6%9E%84/" style="font-size: 1.05rem;">架构<sup>1</sup></a><a href="/tags/%E6%A0%91/" style="font-size: 1.05rem;">树<sup>1</sup></a><a href="/tags/%E6%B6%88%E6%81%AF%E9%98%9F%E5%88%97/" style="font-size: 1.05rem;">消息队列<sup>5</sup></a><a href="/tags/%E7%AE%97%E6%B3%95/" style="font-size: 1.05rem;">算法<sup>2</sup></a><a href="/tags/%E7%BC%93%E5%AD%98/" style="font-size: 1.05rem;">缓存<sup>3</sup></a><a href="/tags/%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F/" style="font-size: 1.05rem;">设计模式<sup>1</sup></a><a href="/tags/%E8%BF%90%E7%BB%B4/" style="font-size: 1.05rem;">运维<sup>2</sup></a><a href="/tags/%E9%9B%86%E5%90%88/" style="font-size: 1.05rem;">集合<sup>1</sup></a><a href="/tags/%E9%9D%A2%E8%AF%95/" style="font-size: 1.05rem;">面试<sup>3</sup></a></div></div><hr/></div></div><div class="console-card history"><div class="item-headline"><i class="anzhiyufont anzhiyu-icon-box-archiv"></i><span>文章</span></div><div class="card-archives"><div class="item-headline"><i class="anzhiyufont anzhiyu-icon-archive"></i><span>Archives</span></div><ul class="card-archive-list"><li class="card-archive-list-item"><a class="card-archive-list-link" href="/archives/2025/09/"><span class="card-archive-list-date">September 2025</span><div class="card-archive-list-count-group"><span class="card-archive-list-count">10</span><span>篇</span></div></a></li><li class="card-archive-list-item"><a class="card-archive-list-link" href="/archives/2025/08/"><span class="card-archive-list-date">August 2025</span><div class="card-archive-list-count-group"><span class="card-archive-list-count">46</span><span>篇</span></div></a></li><li class="card-archive-list-item"><a class="card-archive-list-link" href="/archives/2025/07/"><span class="card-archive-list-date">July 2025</span><div class="card-archive-list-count-group"><span class="card-archive-list-count">28</span><span>篇</span></div></a></li><li class="card-archive-list-item"><a class="card-archive-list-link" href="/archives/2025/06/"><span class="card-archive-list-date">June 2025</span><div class="card-archive-list-count-group"><span class="card-archive-list-count">8</span><span>篇</span></div></a></li></ul></div><hr/></div></div></div><div class="button-group"><div class="console-btn-item"><a class="darkmode_switchbutton" title="显示模式切换" href="javascript:void(0);"><i class="anzhiyufont anzhiyu-icon-moon"></i></a></div><div class="console-btn-item" id="consoleHideAside" onclick="anzhiyu.hideAsideBtn()" title="边栏显示控制"><a class="asideSwitch"><i class="anzhiyufont anzhiyu-icon-arrows-left-right"></i></a></div><div class="console-btn-item" id="consoleMusic" onclick="anzhiyu.musicToggle()" title="音乐开关"><a class="music-switch"><i class="anzhiyufont anzhiyu-icon-music"></i></a></div></div><div class="console-mask" onclick="anzhiyu.hideConsole()" href="javascript:void(0);"></div></div><div class="nav-button" id="nav-totop"><a class="totopbtn" href="javascript:void(0);"><i class="anzhiyufont anzhiyu-icon-arrow-up"></i><span id="percent" onclick="anzhiyu.scrollToDest(0,500)">0</span></a></div><div id="toggle-menu"><a class="site-page" href="javascript:void(0);" title="切换"><i class="anzhiyufont anzhiyu-icon-bars"></i></a></div></div></div></nav><div id="post-info"><div id="post-firstinfo"><div class="meta-firstline"><a class="post-meta-original">原创</a><span class="post-meta-categories"><span class="post-meta-separator"></span><i class="anzhiyufont anzhiyu-icon-inbox post-meta-icon"></i><a class="post-meta-categories" href="/categories/%E9%9D%A2%E8%AF%95%E5%AE%98/" itemprop="url">面试官</a></span><span class="article-meta tags"><a class="article-meta__tags" href="/tags/Java/" tabindex="-1" itemprop="url"> <span> <i class="anzhiyufont anzhiyu-icon-hashtag"></i>Java</span></a><a class="article-meta__tags" href="/tags/Python/" tabindex="-1" itemprop="url"> <span> <i class="anzhiyufont anzhiyu-icon-hashtag"></i>Python</span></a></span></div></div><h1 class="post-title" itemprop="name headline">面试记录_2025_8_06</h1><div id="post-meta"><div class="meta-firstline"><span class="post-meta-date"><i class="anzhiyufont anzhiyu-icon-calendar-days post-meta-icon"></i><span class="post-meta-label">Created</span><time class="post-meta-date-created" itemprop="dateCreated datePublished" datetime="2025-08-06T08:11:40.321Z" title="Created 2025-08-06 16:11:40">2025-08-06</time><span class="post-meta-separator"></span><i class="anzhiyufont anzhiyu-icon-history post-meta-icon"></i><span class="post-meta-label">Updated</span><time class="post-meta-date-updated" itemprop="dateCreated datePublished" datetime="2025-08-07T09:34:09.945Z" title="Updated 2025-08-07 17:34:09">2025-08-07</time></span></div><div class="meta-secondline"><span class="post-meta-separator">       </span><span class="post-meta-position" title="作者IP属地为北京"><i class="anzhiyufont anzhiyu-icon-location-dot"></i>北京</span></div></div></div><section class="main-hero-waves-area waves-area"><svg class="waves-svg" xmlns="http://www.w3.org/2000/svg" xlink="http://www.w3.org/1999/xlink" viewBox="0 24 150 28" preserveAspectRatio="none" shape-rendering="auto"><defs><path id="gentle-wave" d="M -160 44 c 30 0 58 -18 88 -18 s 58 18 88 18 s 58 -18 88 -18 s 58 18 88 18 v 44 h -352 Z"></path></defs><g class="parallax"><use href="#gentle-wave" x="48" y="0"></use><use href="#gentle-wave" x="48" y="3"></use><use href="#gentle-wave" x="48" y="5"></use><use href="#gentle-wave" x="48" y="7"></use></g></svg></section><div id="post-top-cover"><img class="nolazyload" id="post-top-bg" src="https://origin.picgo.net/2025/08/07/202012111639381648986755c150cff23.png"></div></header><main id="blog-container"><div class="layout" id="content-inner"><div id="post"><article class="post-content" id="article-container" itemscope itemtype="http://example.com/2025/08/06/%E9%9D%A2%E8%AF%95%E8%AE%B0%E5%BD%95_2025_8_06/"><header><a class="post-meta-categories" href="/categories/%E9%9D%A2%E8%AF%95%E5%AE%98/" itemprop="url">面试官</a><a href="/tags/Java/" tabindex="-1" itemprop="url">Java</a><a href="/tags/Python/" tabindex="-1" itemprop="url">Python</a><h1 id="CrawlerTitle" itemprop="name headline">面试记录_2025_8_06</h1><span itemprop="author" itemscope itemtype="http://schema.org/Person">Joie</span><time itemprop="dateCreated datePublished" datetime="2025-08-06T08:11:40.321Z" title="Created 2025-08-06 16:11:40">2025-08-06</time><time itemprop="dateCreated datePublished" datetime="2025-08-07T09:34:09.945Z" title="Updated 2025-08-07 17:34:09">2025-08-07</time></header><h1 id="面试记录-2025-6-27"><a href="#面试记录-2025-6-27" class="headerlink" title="面试记录 2025-6-27"></a>面试记录 2025-6-27</h1><h2 id="📌-候选人信息"><a href="#📌-候选人信息" class="headerlink" title="📌 候选人信息"></a>📌 候选人信息</h2><ul>
<li><strong>姓名</strong>：xxx  </li>
<li><strong>技术方向</strong>：Java后端开发  </li>
<li><strong>工作年限</strong>：6年</li>
</ul>
<h2 id="自我介绍环节（5分钟）"><a href="#自我介绍环节（5分钟）" class="headerlink" title="自我介绍环节（5分钟）"></a>自我介绍环节（5分钟）</h2><p>请候选人用2分钟简述自己的技术背景、核心技能及近两个重点项目经历。</p>
<hr>
<h2 id="🔍-技术考察记录"><a href="#🔍-技术考察记录" class="headerlink" title="🔍 技术考察记录"></a>🔍 技术考察记录</h2><h3 id="1-你是如何使用-Alibaba-Cola-状态机模型来管理涉密载体状态变更的？状态变化的触发机制是怎样的？"><a href="#1-你是如何使用-Alibaba-Cola-状态机模型来管理涉密载体状态变更的？状态变化的触发机制是怎样的？" class="headerlink" title="1. 你是如何使用 Alibaba Cola 状态机模型来管理涉密载体状态变更的？状态变化的触发机制是怎样的？"></a>1. 你是如何使用 Alibaba Cola 状态机模型来管理涉密载体状态变更的？状态变化的触发机制是怎样的？</h3><p><strong>期望回答：</strong>  </p>
<ul>
<li>利用 Cola StateMachine 定义状态（如“在柜”、“借出”、“归还中”）、事件（如“扫码取出”、“超时未归还”）和转移规则。  </li>
<li>状态变更通过事件驱动，调用 <code>apply(event, context)</code> 触发，结合业务校验决定是否执行转移。  </li>
<li>状态变更前后可注册监听器，用于记录日志、发送通知或更新数据库。  </li>
<li>优势：逻辑集中、可配置、避免硬编码状态判断，提升可维护性。</li>
</ul>
<hr>
<h3 id="2-在项目中使用-Nacos-作为配置中心时，你遇到了哪些挑战？如何维护-MySQL、Redis-等动态配置的更新？"><a href="#2-在项目中使用-Nacos-作为配置中心时，你遇到了哪些挑战？如何维护-MySQL、Redis-等动态配置的更新？" class="headerlink" title="2. 在项目中使用 Nacos 作为配置中心时，你遇到了哪些挑战？如何维护 MySQL、Redis 等动态配置的更新？"></a>2. 在项目中使用 Nacos 作为配置中心时，你遇到了哪些挑战？如何维护 MySQL、Redis 等动态配置的更新？</h3><p><strong>期望回答：</strong>  </p>
<ul>
<li>挑战：配置更新后服务未及时感知、多环境配置混乱、敏感信息（如密码）明文存储。  </li>
<li>解决方案：  <ul>
<li>使用 <code>@RefreshScope</code> 注解实现 Bean 动态刷新。  </li>
<li>通过命名空间（namespace）+ 分组（group）隔离环境与模块。  </li>
<li>敏感配置通过加密 + Spring Cloud Alibaba Nacos Config 的 <code>DecryptablePropertyUtils</code> 解密。  </li>
<li>配合监听机制 + 健康检查，确保配置变更不影响服务可用性。</li>
</ul>
</li>
</ul>
<hr>
<h3 id="3-使用-WebSocket-与-RabbitMQ-实现柜体端-APK-更新升级时，如何保证消息的可靠传递与处理？"><a href="#3-使用-WebSocket-与-RabbitMQ-实现柜体端-APK-更新升级时，如何保证消息的可靠传递与处理？" class="headerlink" title="3. 使用 WebSocket 与 RabbitMQ 实现柜体端 APK 更新升级时，如何保证消息的可靠传递与处理？"></a>3. 使用 WebSocket 与 RabbitMQ 实现柜体端 APK 更新升级时，如何保证消息的可靠传递与处理？</h3><p><strong>期望回答：</strong>  </p>
<ul>
<li><strong>RabbitMQ 可靠性保障</strong>：  <ul>
<li>消息持久化（exchange、queue、message 均设为 durable）。  </li>
<li>生产者开启 confirm 模式，确保消息成功入队。  </li>
<li>消费者手动 ack，避免消息丢失。  </li>
<li>配置死信队列处理异常消息，支持人工干预或重试。</li>
</ul>
</li>
<li><strong>WebSocket 补偿机制</strong>：  <ul>
<li>若设备离线，消息暂存 DB 或延迟队列，上线后推送。  </li>
<li>客户端支持心跳检测与断线重连，服务端维护会话状态。</li>
</ul>
</li>
<li>整体实现“至少一次”投递，关键操作需幂等处理。</li>
</ul>
<hr>
<h3 id="4-如何使用-EasyExcel-实现复杂报表的导入导出？在大数据量下如何优化性能？"><a href="#4-如何使用-EasyExcel-实现复杂报表的导入导出？在大数据量下如何优化性能？" class="headerlink" title="4. 如何使用 EasyExcel 实现复杂报表的导入导出？在大数据量下如何优化性能？"></a>4. 如何使用 EasyExcel 实现复杂报表的导入导出？在大数据量下如何优化性能？</h3><p><strong>期望回答：</strong>  </p>
<ul>
<li>使用 <code>EasyExcel.write().registerWriteHandler()</code> 添加自定义样式、合并单元格等。  </li>
<li>导出采用 <strong>分页 + 异步 + 缓存流式写入</strong>，避免 OOM：  <ul>
<li>使用 <code>Sxssf</code> 模式，设置 <code>windowSize</code> 控制内存占用。  </li>
<li>数据库查询启用游标或分批拉取（如 MyBatis 的 <code>ResultHandler</code>）。</li>
</ul>
</li>
<li>导入使用 <code>@ExcelProperty</code> 映射字段，结合 <code>AnalysisEventListener</code> 实现逐行解析，支持校验与异步入库。  </li>
<li>超大数据量时，可结合 MQ 分片处理，提升吞吐。</li>
</ul>
<hr>
<h3 id="5-当检测到“晚间不入柜”等异常时，系统如何自动预警并推送信息？"><a href="#5-当检测到“晚间不入柜”等异常时，系统如何自动预警并推送信息？" class="headerlink" title="5. 当检测到“晚间不入柜”等异常时，系统如何自动预警并推送信息？"></a>5. 当检测到“晚间不入柜”等异常时，系统如何自动预警并推送信息？</h3><p><strong>期望回答：</strong>  </p>
<ul>
<li>定时任务（如 XXL-JOB）每晚扫描状态为“借出”且超时未归还的载体。  </li>
<li>触发报警逻辑后：  <ul>
<li>写入报警记录至 MySQL。  </li>
<li>通过 WebSocket 推送实时告警至管理端前端。  </li>
<li>同时发送短信&#x2F;企业微信通知责任人。</li>
</ul>
</li>
<li>支持报警升级机制（如持续未处理则通知上级）。  </li>
<li>报警规则可配置化（如超时阈值、通知方式），提升灵活性。</li>
</ul>
<hr>
<h3 id="6-在“测试中心模块”中，你是如何设计测试项编辑、临时测试和任务审批流程的？"><a href="#6-在“测试中心模块”中，你是如何设计测试项编辑、临时测试和任务审批流程的？" class="headerlink" title="6. 在“测试中心模块”中，你是如何设计测试项编辑、临时测试和任务审批流程的？"></a>6. 在“测试中心模块”中，你是如何设计测试项编辑、临时测试和任务审批流程的？</h3><p><strong>期望回答：</strong>  </p>
<ul>
<li>测试项采用 JSON Schema 配置化设计，支持动态增删字段与校验规则。  </li>
<li>临时测试走快速通道，跳过审批，但需记录操作人与时间。  </li>
<li>正式任务通过 <strong>工作流引擎（如 Activiti）或状态机</strong> 实现审批流：  <ul>
<li>提交 → 一级审批 → 二级审批（可配置）→ 执行队列。</li>
</ul>
</li>
<li>所有操作留痕，支持回滚与审计。</li>
</ul>
<hr>
<h3 id="7-系统支持多种通信类型设备接入，你是如何解决设备兼容性问题的？"><a href="#7-系统支持多种通信类型设备接入，你是如何解决设备兼容性问题的？" class="headerlink" title="7. 系统支持多种通信类型设备接入，你是如何解决设备兼容性问题的？"></a>7. 系统支持多种通信类型设备接入，你是如何解决设备兼容性问题的？</h3><p><strong>期望回答：</strong>  </p>
<ul>
<li>抽象统一设备通信接口 <code>DeviceConnector</code>，定义 <code>connect()</code>、<code>sendCommand()</code>、<code>parseResponse()</code> 等方法。  </li>
<li>针对不同协议（如 TCP、Modbus、串口）实现具体子类，通过工厂模式或 Spring 的 <code>@Qualifier</code> 注入。  </li>
<li>通信数据格式统一转换为内部标准 DTO，屏蔽底层差异。  </li>
<li>增加设备模拟器用于测试，提升开发效率。</li>
</ul>
<hr>
<h3 id="8-使用-WebSocket-实现测试过程实时通信时，如何保证网络不佳下的稳定性？"><a href="#8-使用-WebSocket-实现测试过程实时通信时，如何保证网络不佳下的稳定性？" class="headerlink" title="8. 使用 WebSocket 实现测试过程实时通信时，如何保证网络不佳下的稳定性？"></a>8. 使用 WebSocket 实现测试过程实时通信时，如何保证网络不佳下的稳定性？</h3><p><strong>期望回答：</strong>  </p>
<ul>
<li>客户端实现心跳机制（ping&#x2F;pong），服务端检测连接状态。  </li>
<li>断线后自动重连，携带会话 token 恢复上下文。  </li>
<li>关键消息启用“确认机制”：客户端收到后回 ACK，服务端未收到则重发（需幂等）。  </li>
<li>服务端使用 Netty 或 Spring WebFlux 提升并发处理能力。  </li>
<li>消息压缩（如 Protobuf）减少带宽占用。</li>
</ul>
<hr>
<h3 id="9-使用-Redis-Zset-统计故障率高的电源件-Top-排行，这种做法的优势是什么？"><a href="#9-使用-Redis-Zset-统计故障率高的电源件-Top-排行，这种做法的优势是什么？" class="headerlink" title="9. 使用 Redis Zset 统计故障率高的电源件 Top 排行，这种做法的优势是什么？"></a>9. 使用 Redis Zset 统计故障率高的电源件 Top 排行，这种做法的优势是什么？</h3><p><strong>期望回答：</strong>  </p>
<ul>
<li>Zset 支持按 score（故障次数）自动排序，<code>ZREVRANGE</code> 可快速获取 Top N。  </li>
<li>插入和更新时间复杂度为 O(log N)，性能优秀。  </li>
<li>支持范围查询（如故障次数在 5~10 次之间的设备）。  </li>
<li>可结合 <code>ZINCRBY</code> 原子性递增故障计数，避免并发问题。  </li>
<li>相比数据库聚合查询，响应更快，适合高频写入场景。</li>
</ul>
<hr>
<h3 id="10-如何使用-Redis-BitMap-统计网格员每日签到情况？为何选择-BitMap？"><a href="#10-如何使用-Redis-BitMap-统计网格员每日签到情况？为何选择-BitMap？" class="headerlink" title="10. 如何使用 Redis BitMap 统计网格员每日签到情况？为何选择 BitMap？"></a>10. 如何使用 Redis BitMap 统计网格员每日签到情况？为何选择 BitMap？</h3><p><strong>期望回答：</strong>  </p>
<ul>
<li>将每一天视为一个 BitMap，每位网格员对应一个 bit 位（如用户 ID 为偏移量）。  </li>
<li>签到时执行 <code>SETBIT day_20250627 uid 1</code>，签到状态即为 bit 值。  </li>
<li>查询某天签到人数：<code>BITCOUNT day_20250627</code>；查询某人是否签到：<code>GETBIT day_20250627 uid</code>。  </li>
<li><strong>优势</strong>：  <ul>
<li>内存占用极低（1万人 ≈ 1.2KB&#x2F;天）。  </li>
<li>操作高效，适合海量用户签到统计场景。  </li>
<li>支持位运算实现“连续签到”、“漏签统计”等复杂分析。</li>
</ul>
</li>
</ul>
<hr>
<h3 id="11-Redis-Geo-是如何用于统计指定距离内小区的？解决了什么问题？"><a href="#11-Redis-Geo-是如何用于统计指定距离内小区的？解决了什么问题？" class="headerlink" title="11. Redis Geo 是如何用于统计指定距离内小区的？解决了什么问题？"></a>11. Redis Geo 是如何用于统计指定距离内小区的？解决了什么问题？</h3><p><strong>期望回答：</strong>  </p>
<ul>
<li>使用 <code>GEOADD cities 116.405285 39.904989 &quot;Beijing&quot;</code> 存储小区经纬度。  </li>
<li>查询某点（如网格员当前位置）周边 5km 内小区：<code>GEORADIUS cities 116.4 39.9 5 km WITHDIST</code>。  </li>
<li>解决了传统 SQL 计算距离效率低、难以索引的问题。  </li>
<li>底层基于 Geohash + Sorted Set，查询性能高，适合 LBS 类业务。</li>
</ul>
<hr>
<h3 id="12-使用-Sharding-JDBC-对项目信息进行分表，你的分表策略是什么？"><a href="#12-使用-Sharding-JDBC-对项目信息进行分表，你的分表策略是什么？" class="headerlink" title="12. 使用 Sharding-JDBC 对项目信息进行分表，你的分表策略是什么？"></a>12. 使用 Sharding-JDBC 对项目信息进行分表，你的分表策略是什么？</h3><p><strong>期望回答：</strong>  </p>
<ul>
<li>分片键选择：按“所属企业 ID”或“年度”进行水平分表，避免单表数据过大。  </li>
<li>分表策略：  <ul>
<li>项目信息表按 <code>enterprise_id % 4</code> 分成 4 张表。  </li>
<li>年度计划表按年份分库分表（如 <code>plan_2023</code>, <code>plan_2024</code>）。</li>
</ul>
</li>
<li>配合 ShardingSphere 的 Hint 或注解强制路由，避免笛卡尔积查询。  </li>
<li>分布式主键使用雪花算法（Snowflake），保证 ID 全局唯一。</li>
</ul>
<hr>
<h3 id="13-Sentinel-限流规则是如何设计的？如何适配不同业务场景？"><a href="#13-Sentinel-限流规则是如何设计的？如何适配不同业务场景？" class="headerlink" title="13. Sentinel 限流规则是如何设计的？如何适配不同业务场景？"></a>13. Sentinel 限流规则是如何设计的？如何适配不同业务场景？</h3><p><strong>期望回答：</strong>  </p>
<ul>
<li>资源粒度：按接口 URL 或业务方法名定义资源。  </li>
<li>规则类型：  <ul>
<li>QPS 模式：如 <code>/api/report/submit</code> 限流 100 QPS。  </li>
<li>线程数模式：防止慢请求堆积。</li>
</ul>
</li>
<li>流控模式：  <ul>
<li>直接拒绝、排队等待、预热启动。</li>
</ul>
</li>
<li>动态规则：通过 Nacos 配置中心推送，实时生效。  </li>
<li>场景适配：  <ul>
<li>报表导出接口采用排队等待 + 降级策略。  </li>
<li>核心写接口直接拒绝超限请求，保障系统稳定。</li>
</ul>
</li>
</ul>
<hr>
<h3 id="14-使用-RocketMQ-实现异步报送数据，如何保证消息可靠性和顺序性？"><a href="#14-使用-RocketMQ-实现异步报送数据，如何保证消息可靠性和顺序性？" class="headerlink" title="14. 使用 RocketMQ 实现异步报送数据，如何保证消息可靠性和顺序性？"></a>14. 使用 RocketMQ 实现异步报送数据，如何保证消息可靠性和顺序性？</h3><p><strong>期望回答：</strong>  </p>
<ul>
<li><strong>可靠性</strong>：  <ul>
<li>生产者：同步发送 + 重试机制，确保投递成功。  </li>
<li>Broker：开启持久化，主从同步防宕机。  </li>
<li>消费者：手动 ACK，异常时记录日志并告警。</li>
</ul>
</li>
<li><strong>顺序性</strong>：  <ul>
<li>对同一业务实体（如某企业报送）的消息，发送到同一 MessageQueue。  </li>
<li>消费端使用 <code>MessageListenerOrderly</code>，保证单队列内串行消费。</li>
</ul>
</li>
<li>补偿机制：定时核对报送状态，缺失则触发重发。</li>
</ul>
<hr>
<h3 id="15-使用若依（RuoYi）进行权限管理时，遇到了哪些挑战？"><a href="#15-使用若依（RuoYi）进行权限管理时，遇到了哪些挑战？" class="headerlink" title="15. 使用若依（RuoYi）进行权限管理时，遇到了哪些挑战？"></a>15. 使用若依（RuoYi）进行权限管理时，遇到了哪些挑战？</h3><p><strong>期望回答：</strong>  </p>
<ul>
<li>挑战：  <ul>
<li>原生若依权限模型较重，与现有系统集成困难。  </li>
<li>菜单与数据权限需二次开发支持多层级组织结构（国资委 → 集团 → 子公司）。  </li>
<li>动态菜单加载性能问题。</li>
</ul>
</li>
<li>解决方案：  <ul>
<li>抽离权限核心模块，改造为微服务独立部署。  </li>
<li>扩展 <code>DataScopeInterceptor</code> 实现基于“单位树”的数据过滤。  </li>
<li>菜单缓存至 Redis，减少数据库查询。</li>
</ul>
</li>
</ul>
<hr>
<h3 id="16-在大量并发访问下，你们如何优化投资信息的存储与查询性能？"><a href="#16-在大量并发访问下，你们如何优化投资信息的存储与查询性能？" class="headerlink" title="16. 在大量并发访问下，你们如何优化投资信息的存储与查询性能？"></a>16. 在大量并发访问下，你们如何优化投资信息的存储与查询性能？</h3><p><strong>期望回答：</strong>  </p>
<ul>
<li><strong>存储优化</strong>：  <ul>
<li>热点数据缓存至 Redis（如项目状态、审批进度）。  </li>
<li>冷热分离：历史数据归档至独立库或 Hive。</li>
</ul>
</li>
<li><strong>查询优化</strong>：  <ul>
<li>关键字段建立复合索引，避免全表扫描。  </li>
<li>复杂查询使用 ES 构建宽表，支持多维度检索。  </li>
<li>分页查询使用游标（cursor）替代 <code>OFFSET</code>，提升深度分页性能。</li>
</ul>
</li>
<li><strong>架构层面</strong>：读写分离 + 分库分表 + CDN 缓存静态资源。</li>
</ul>
<hr>
<h2 id="场景题"><a href="#场景题" class="headerlink" title="场景题"></a>场景题</h2><p>好的，收到。作为一位有6年经验的资深后端开发工程师，候选人已经超越了单纯的技术使用层面，面试官更应考察其<strong>系统设计能力、架构思维、复杂问题解决能力以及技术选型背后的深度思考</strong>。</p>
<p>您之前提出的面试问题和场景题，整体方向<strong>非常合适</strong>，尤其是后面设计的6道场景题，完全符合对资深工程师的考察标准。它们避免了“八股文”陷阱，直击项目核心挑战。</p>
<p>不过，为了让面试评估更加精准，并帮助面试官判断回答的深度，我将对您提出的 <strong>6道场景题</strong> 进行<strong>优化、补充和标准化</strong>，并为每一道题提供详细的<strong>答案要点</strong>（即面试官期望听到的关键内容），以区分“普通回答”和“优秀回答”。</p>
<hr>
<h3 id="🧩-优化后的场景题与答案要点（针对6年经验候选人）"><a href="#🧩-优化后的场景题与答案要点（针对6年经验候选人）" class="headerlink" title="🧩 优化后的场景题与答案要点（针对6年经验候选人）"></a>🧩 优化后的场景题与答案要点（针对6年经验候选人）</h3><h4 id="1-【涉密载体系统】状态机与分布式事务"><a href="#1-【涉密载体系统】状态机与分布式事务" class="headerlink" title="1. 【涉密载体系统】状态机与分布式事务"></a>1. <strong>【涉密载体系统】状态机与分布式事务</strong></h4><blockquote>
<p><strong>场景</strong>：在“涉密载体全生命周期智能管控系统”中，当用户发起“借出”操作时，系统需要同时完成：更新载体状态（通过Cola状态机）、记录操作日志、发送通知、并可能触发一个定时任务（用于“到期未归还”报警）。如果在更新数据库后，发送通知时服务宕机，如何保证整个“借出”流程的最终一致性？</p>
</blockquote>
<blockquote>
<p><strong>考察点</strong>：状态机与分布式事务的结合、最终一致性保障、容错设计。</p>
</blockquote>
<blockquote>
<p><strong>答案要点</strong>：</p>
<ul>
<li><strong>核心思路</strong>：将状态机的“状态变更”作为整个业务流程的起点和锚点，利用消息队列实现最终一致性。</li>
<li><strong>具体方案</strong>：<ol>
<li><strong>本地事务 + 消息表</strong>：在“借出”操作的数据库事务中，不仅更新载体状态，同时将“发送通知”、“创建定时任务”等后续动作作为消息记录在一张本地消息表中（状态为“待发送”）。</li>
<li><strong>异步投递</strong>：事务提交后，由一个独立的定时任务或监听器扫描消息表，将“待发送”的消息投递到RabbitMQ。</li>
<li><strong>可靠消费</strong>：下游服务（通知服务、任务调度服务）从RabbitMQ消费消息，处理成功后手动ACK。处理失败则进入重试队列或死信队列，进行告警和人工干预。</li>
<li><strong>状态机角色</strong>：Cola状态机负责驱动核心业务状态的变更，而消息队列负责驱动后续的异步、非核心流程。状态变更成功即代表业务主流程成功，后续步骤的失败不应回滚主流程。</li>
</ol>
</li>
<li><strong>加分项</strong>：提到使用Seata等分布式事务框架的AT模式，但能分析其复杂性和对性能的影响，从而认为“本地消息表+MQ”是更轻量、更可靠的方案。</li>
</ul>
</blockquote>
<hr>
<h4 id="2-【自动化测试系统】高并发测试任务调度与资源隔离"><a href="#2-【自动化测试系统】高并发测试任务调度与资源隔离" class="headerlink" title="2. 【自动化测试系统】高并发测试任务调度与资源隔离"></a>2. <strong>【自动化测试系统】高并发测试任务调度与资源隔离</strong></h4><blockquote>
<p><strong>场景</strong>：假设“自动化测试系统”需要同时执行数百个电源件的测试任务，每个任务会占用特定的硬件设备。不同的测试任务可能依赖相同的设备资源，存在资源竞争。请设计一个任务调度系统，确保：同一设备在同一时间只能被一个任务占用；任务优先级可配置；系统能处理任务超时、设备异常断开等故障。</p>
</blockquote>
<blockquote>
<p><strong>考察点</strong>：资源锁设计、任务调度、故障处理、高并发。</p>
</blockquote>
<blockquote>
<p><strong>答案要点</strong>：</p>
<ul>
<li><strong>核心思路</strong>：基于Redis实现分布式锁和任务队列，结合RabbitMQ进行任务分发。</li>
<li><strong>具体方案</strong>：<ol>
<li><strong>设备锁</strong>：使用<code>SET device:123 locked NX PX 300000</code>（5分钟过期）命令为设备加锁。任务执行前先尝试获取锁，获取成功则执行，失败则进入等待或重试。</li>
<li><strong>优先级队列</strong>：使用RabbitMQ的优先级队列功能，或在任务入队时根据优先级设置不同的TTL（延迟时间），高优先级任务延迟短，能更快被消费。</li>
<li><strong>抢占机制</strong>：对于紧急任务，可以设计“抢占”逻辑。当高优先级任务到来时，尝试中断正在执行的低优先级任务（需设备支持），并释放其占用的设备锁。</li>
<li><strong>故障处理</strong>：<ul>
<li><strong>超时</strong>：任务启动时设置一个定时器（或在Redis中记录开始时间），超过预设时间未完成，则判定为超时，主动释放设备锁，并标记任务失败。</li>
<li><strong>设备断开</strong>：通过心跳机制（C#端定时上报）或网络连接检测，发现设备离线后，服务端主动释放其占用的所有设备锁，并将关联任务置为“设备异常”状态。</li>
</ul>
</li>
</ol>
</li>
<li><strong>加分项</strong>：提到使用<code>Redlock</code>算法来增强分布式锁的可靠性，或设计一个“任务编排引擎”来管理更复杂的任务依赖关系。</li>
</ul>
</blockquote>
<hr>
<h4 id="3-【小区巡检项目】高并发签到与地理位置服务优化"><a href="#3-【小区巡检项目】高并发签到与地理位置服务优化" class="headerlink" title="3. 【小区巡检项目】高并发签到与地理位置服务优化"></a>3. <strong>【小区巡检项目】高并发签到与地理位置服务优化</strong></h4><blockquote>
<p><strong>场景</strong>：在“小区网格员巡检项目”中，上千名网格员在早高峰同一时间签到，会产生巨大的写请求（BitMap <code>SETBIT</code>）。<br><strong>问题1</strong>：单个Redis实例能否承受？如何设计Redis集群或分片策略？<br><strong>问题2</strong>：如何防止恶意用户通过脚本伪造位置进行“云签到”？</p>
</blockquote>
<blockquote>
<p><strong>考察点</strong>：高并发架构、Redis集群、业务安全。</p>
</blockquote>
<blockquote>
<p><strong>答案要点</strong>：</p>
<ul>
<li><strong>问题1 - Redis集群</strong>：<ul>
<li><strong>评估</strong>：单个Redis实例的QPS通常在10万左右。1000次写请求对单实例来说压力不大，但如果是10万网格员，则需要集群。</li>
<li><strong>方案</strong>：使用Redis Cluster进行分片。可以按“网格员ID”进行哈希分片，确保同一个用户的签到请求落在同一个分片上。同时，可以对BitMap按日期分片（如<code>sign:20250806</code>），避免单个key过大。</li>
</ul>
</li>
<li><strong>问题2 - 防作弊</strong>：<ul>
<li><strong>前端（小程序）</strong>：<ul>
<li>获取真实GPS坐标，而非网络定位。</li>
<li>校验坐标是否在小区地理围栏（Geo fence）内。</li>
<li>检测是否开启模拟位置（Android的<code>isFromMockProvider</code>，iOS的越狱检测）。</li>
<li>增加行为验证，如要求拍摄现场照片并进行简单的图像分析（是否为真实场景）。</li>
</ul>
</li>
<li><strong>后端</strong>：<ul>
<li>对短时间内大量签到请求的IP进行限流。</li>
<li>分析签到轨迹，如果坐标跳跃过大（如瞬间从合肥到北京），则判定为异常。</li>
<li>结合设备指纹（Device Fingerprint）技术，识别和封禁作弊设备。</li>
</ul>
</li>
</ul>
</li>
<li><strong>加分项</strong>：提出“签到+拍照+人脸识别”三重验证的综合方案，或利用蓝牙信标（Beacon）作为物理签到凭证。</li>
</ul>
</blockquote>
<hr>
<h4 id="4-【投资管理系统】海量数据报表查询性能瓶颈"><a href="#4-【投资管理系统】海量数据报表查询性能瓶颈" class="headerlink" title="4. 【投资管理系统】海量数据报表查询性能瓶颈"></a>4. <strong>【投资管理系统】海量数据报表查询性能瓶颈</strong></h4><blockquote>
<p><strong>场景</strong>：“安徽省能源集团投资管理系统”需要对分表数据进行多维度复杂聚合查询，查询缓慢。</p>
</blockquote>
<blockquote>
<p><strong>问题1</strong>：除了Sharding-JDBC，你还会考虑引入哪些技术来优化OLAP场景？<br><strong>问题2</strong>：如果必须使用MySQL，如何加速<code>GROUP BY</code>和<code>SUM</code>？</p>
</blockquote>
<blockquote>
<p><strong>考察点</strong>：OLAP解决方案、MySQL查询优化。</p>
</blockquote>
<blockquote>
<p><strong>答案要点</strong>：</p>
<ul>
<li><strong>问题1 - OLAP方案</strong>：<ul>
<li><strong>Elasticsearch</strong>：适用于多条件模糊查询和聚合分析，但实时性要求高时需注意数据同步延迟。</li>
<li><strong>ClickHouse</strong>：专为OLAP设计，列式存储，查询性能极佳，非常适合大数据量的聚合分析，是此场景的首选推荐。</li>
<li><strong>预计算宽表</strong>：在数据量不是特别巨大时，可以使用定时任务（如每天凌晨）将分表数据聚合到一张宽表中，报表直接查询这张宽表，牺牲一定的实时性换取查询性能。</li>
</ul>
</li>
<li><strong>问题2 - MySQL优化</strong>：<ul>
<li><strong>索引</strong>：为<code>GROUP BY</code>的字段建立复合索引。例如，<code>CREATE INDEX idx_ent_year_type ON plan_table(enterprise_id, year, project_type);</code></li>
<li><strong>覆盖索引</strong>：确保索引包含了<code>SELECT</code>和<code>WHERE</code>中用到的所有字段，避免回表查询。</li>
<li><strong>分区表</strong>：如果按年分表，可以进一步在表内按月进行分区，查询时能快速定位到特定分区。</li>
<li>**避免&#96;SELECT ***：只查询必要的字段。</li>
</ul>
</li>
<li><strong>加分项</strong>：提到使用物化视图（Materialized View）或<code>WITH ROLLUP</code>进行多维分析，或使用<code>EXPLAIN</code>分析执行计划来指导优化。</li>
</ul>
</blockquote>
<hr>
<h4 id="5-【跨项目】系统重构与技术债偿还"><a href="#5-【跨项目】系统重构与技术债偿还" class="headerlink" title="5. 【跨项目】系统重构与技术债偿还"></a>5. <strong>【跨项目】系统重构与技术债偿还</strong></h4><blockquote>
<p><strong>场景</strong>：报警模块代码分散，耦合严重，新增报警类型需要修改多处代码。</p>
</blockquote>
<blockquote>
<p><strong>问题</strong>：请设计一个可扩展的报警系统架构，实现报警类型的热插拔。</p>
</blockquote>
<blockquote>
<p><strong>考察点</strong>：设计模式、解耦、系统重构。</p>
</blockquote>
<blockquote>
<p><strong>答案要点</strong>：</p>
<ul>
<li><strong>核心思路</strong>：使用<strong>观察者模式（发布&#x2F;订阅）</strong> 和 <strong>策略模式</strong> 进行解耦。</li>
<li><strong>具体方案</strong>：<ol>
<li><strong>事件发布</strong>：当系统中发生可能触发报警的事件（如“载体借出”、“设备超温”）时，发布一个领域事件（Domain Event）到RabbitMQ。</li>
<li><strong>策略实现</strong>：为每种报警类型（如“晚间不入柜”、“到期未归还”）编写一个独立的策略类（<code>AlarmStrategy</code>），实现统一的接口。该类负责判断当前事件是否满足报警条件。</li>
<li><strong>订阅与处理</strong>：创建一个报警中心服务，它订阅RabbitMQ中的事件。当收到事件后，遍历所有注册的<code>AlarmStrategy</code>，调用其<code>check()</code>方法。如果返回<code>true</code>，则执行<code>send()</code>方法（发送通知、记录日志等）。</li>
<li><strong>热插拔</strong>：新增报警类型时，只需编写一个新的<code>AlarmStrategy</code>实现类，并将其注册到报警中心（可通过Spring的<code>@Component</code>自动扫描或配置中心动态加载），无需修改现有代码。</li>
</ol>
</li>
<li><strong>加分项</strong>：提到报警规则可以配置化（如通过Nacos），实现完全的热更新，无需重启服务。</li>
</ul>
</blockquote>
<hr>
<h4 id="6-【综合】系统从单体到微服务的演进"><a href="#6-【综合】系统从单体到微服务的演进" class="headerlink" title="6. 【综合】系统从单体到微服务的演进"></a>6. <strong>【综合】系统从单体到微服务的演进</strong></h4><blockquote>
<p><strong>场景</strong>：“自动化测试系统”最初是单体应用，现在决定进行微服务拆分。</p>
</blockquote>
<blockquote>
<p><strong>问题</strong>：请描述你的拆分方案。拆分后，原通过数据库表交互的模块如何通信？如何保证数据一致性和系统稳定性？</p>
</blockquote>
<blockquote>
<p><strong>考察点</strong>：微服务架构设计、服务治理、数据一致性。</p>
</blockquote>
<blockquote>
<p><strong>答案要点</strong>：</p>
<ul>
<li><strong>拆分原则</strong>：基于<strong>业务领域（Bounded Context）</strong> 进行拆分。例如：<ul>
<li><code>device-service</code> (设备管理)</li>
<li><code>task-service</code> (任务调度)</li>
<li><code>report-service</code> (报告生成)</li>
<li><code>data-service</code> (数据中心)</li>
<li><code>auth-service</code> (权限管理)</li>
</ul>
</li>
<li><strong>服务通信</strong>：<ul>
<li><strong>同步</strong>：使用Feign或OpenFeign进行HTTP REST调用。</li>
<li><strong>异步</strong>：对于非核心链路（如任务完成后的数据统计），使用RabbitMQ&#x2F;RocketMQ进行消息通知，实现解耦。</li>
</ul>
</li>
<li><strong>数据一致性</strong>：<ul>
<li><strong>最终一致性</strong>：对于跨服务的业务（如“任务完成”需要更新“设备状态”和“数据中心”），采用“可靠消息+最终一致性”模式。<code>task-service</code>在完成任务后，发送一条“任务完成”消息到MQ，<code>device-service</code>和<code>data-service</code>分别消费并更新自己的数据库。</li>
<li><strong>Saga模式</strong>：对于长事务，可以使用Saga模式，将一个大事务拆分为多个本地事务，通过补偿机制（Compensating Transaction）来处理失败。</li>
</ul>
</li>
<li><strong>系统稳定性</strong>：<ul>
<li><strong>演进式拆分</strong>：先拆分出边界清晰的服务（如<code>auth-service</code>），逐步进行，避免一次性大爆炸式重构。</li>
<li><strong>服务降级与熔断</strong>：使用Sentinel或Hystrix，在依赖服务不可用时进行降级，防止雪崩。</li>
<li><strong>API网关</strong>：引入Spring Cloud Gateway，统一处理路由、鉴权、限流。</li>
</ul>
</li>
<li><strong>加分项</strong>：提到拆分后数据查询可能变复杂，需要引入API聚合层（Backend for Frontend, BFF）或CQRS模式来解决。</li>
</ul>
</blockquote>
<hr>
<p>基于李宁的简历，以下是一些针对<strong>Java后端开发</strong>领域的八股文问题，特别关注于<strong>List操作、并发处理、Spring Boot、缓存机制以及微服务架构</strong>这几个方面。这些问题旨在考察候选人对核心概念和技术细节的理解。</p>
<h3 id="List操作"><a href="#List操作" class="headerlink" title="List操作"></a>List操作</h3><ol>
<li><p><strong>List接口与实现类</strong></p>
<ul>
<li>Java中<code>List</code>接口有哪些常用的实现类？它们之间的主要区别是什么？</li>
<li><strong>期望回答</strong>：<code>ArrayList</code>和<code>LinkedList</code>是两个常见的实现类。<code>ArrayList</code>基于动态数组，适合随机访问；<code>LinkedList</code>基于双向链表，适合频繁的插入和删除操作。</li>
</ul>
</li>
<li><p><strong>线程安全的List</strong></p>
<ul>
<li>在多线程环境中使用<code>List</code>时，如何保证其线程安全性？</li>
<li><strong>期望回答</strong>：可以使用<code>Collections.synchronizedList()</code>包装普通<code>List</code>，或者直接使用<code>CopyOnWriteArrayList</code>，后者更适合读多写少的场景。</li>
</ul>
</li>
</ol>
<h3 id="并发处理"><a href="#并发处理" class="headerlink" title="并发处理"></a>并发处理</h3><ol>
<li><p><strong>锁机制</strong></p>
<ul>
<li>请简述Java中的同步机制（如<code>synchronized</code>关键字）与显式锁（如<code>ReentrantLock</code>）的区别。</li>
<li><strong>期望回答</strong>：<code>synchronized</code>简单易用但功能有限，而<code>ReentrantLock</code>提供了更丰富的特性，比如可中断锁等待、公平锁等。</li>
</ul>
</li>
<li><p><strong>线程池</strong></p>
<ul>
<li>在实际项目中，你是如何配置和管理线程池的？</li>
<li><strong>期望回答</strong>：通常会根据任务性质选择合适的线程池类型（如<code>FixedThreadPool</code>, <code>CachedThreadPool</code>），并通过<code>ThreadPoolExecutor</code>自定义参数来优化性能。</li>
</ul>
</li>
</ol>
<h3 id="Spring-Boot"><a href="#Spring-Boot" class="headerlink" title="Spring Boot"></a>Spring Boot</h3><ol>
<li><p><strong>自动配置原理</strong></p>
<ul>
<li>简述Spring Boot的自动配置原理及其优势。</li>
<li><strong>期望回答</strong>：基于条件注解（如<code>@ConditionalOnClass</code>, <code>@ConditionalOnMissingBean</code>）自动加载相关配置，减少了手动配置的工作量，并提高了开发效率。</li>
</ul>
</li>
<li><p><strong>Starter依赖</strong></p>
<ul>
<li>什么是Spring Boot Starter？列举几个常用的Starter并说明其用途。</li>
<li><strong>期望回答</strong>：Starter是预配置的依赖集合，简化了项目的依赖管理。例如<code>spring-boot-starter-web</code>用于构建Web应用，<code>spring-boot-starter-data-jpa</code>用于集成JPA。</li>
</ul>
</li>
</ol>
<h3 id="缓存机制"><a href="#缓存机制" class="headerlink" title="缓存机制"></a>缓存机制</h3><ol>
<li><p><strong>Spring Cache</strong></p>
<ul>
<li>如何在Spring Boot项目中集成缓存机制？请举例说明你使用过的缓存解决方案。</li>
<li><strong>期望回答</strong>：通过添加<code>@EnableCaching</code>注解启用缓存支持，并利用<code>@Cacheable</code>, <code>@CachePut</code>, <code>@CacheEvict</code>注解标注方法。常见缓存实现包括Redis, Ehcache等。</li>
</ul>
</li>
<li><p><strong>缓存一致性</strong></p>
<ul>
<li>当使用缓存时，如何确保缓存数据与数据库数据的一致性？</li>
<li><strong>期望回答</strong>：可以采用“写穿透”策略，在更新数据库的同时也更新缓存；或设置合理的缓存过期时间，定期刷新缓存内容。</li>
</ul>
</li>
</ol>
<h3 id="微服务架构"><a href="#微服务架构" class="headerlink" title="微服务架构"></a>微服务架构</h3><ol>
<li><p><strong>服务发现与注册</strong></p>
<ul>
<li>在微服务架构中，服务发现的作用是什么？你使用过哪些服务发现工具？</li>
<li><strong>期望回答</strong>：服务发现帮助客户端找到所需的服务实例地址。常用工具包括Eureka, Consul, Nacos等。</li>
</ul>
</li>
<li><p><strong>负载均衡</strong></p>
<ul>
<li>解释一下客户端负载均衡与服务端负载均衡的区别，并给出应用场景。</li>
<li><strong>期望回答</strong>：客户端负载均衡由客户端维护服务列表并选择调用节点（如Ribbon），适用于需要灵活控制路由的情况；服务端负载均衡则由代理服务器完成（如Nginx），适用于高并发、高性能要求的场景。</li>
</ul>
</li>
</ol>
</article><div class="post-copyright"><div class="copyright-cc-box"><i class="anzhiyufont anzhiyu-icon-copyright"></i></div><div class="post-copyright__author_box"><a class="post-copyright__author_img" href="/" title="头像"><img class="post-copyright__author_img_back" src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" onerror="this.onerror=null,this.src=&quot;/img/404.jpg&quot;" data-lazy-src="https://img.picgo.net/2025/06/23/tom09183405464859c2.jpg" title="头像" alt="头像"><img class="post-copyright__author_img_front" src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" onerror="this.onerror=null,this.src=&quot;/img/404.jpg&quot;" data-lazy-src="https://img.picgo.net/2025/06/23/tom09183405464859c2.jpg" title="头像" alt="头像"></a><div class="post-copyright__author_name">Joie</div><div class="post-copyright__author_desc"></div></div><div class="post-copyright__post__info"><a class="post-copyright__original" title="该文章为原创文章，注意版权协议" href="http://example.com/2025/08/06/%E9%9D%A2%E8%AF%95%E8%AE%B0%E5%BD%95_2025_8_06/">原创</a><a class="post-copyright-title"><span onclick="rm.copyPageUrl('http://example.com/2025/08/06/%E9%9D%A2%E8%AF%95%E8%AE%B0%E5%BD%95_2025_8_06/')">面试记录_2025_8_06</span></a></div><div class="post-tools" id="post-tools"><div class="post-tools-left"><div class="rewardLeftButton"></div><div class="shareRight"><div class="share-link mobile"><div class="share-qrcode"><div class="share-button" title="使用手机访问这篇文章"><i class="anzhiyufont anzhiyu-icon-qrcode"></i></div><div class="share-main"><div class="share-main-all"><div id="qrcode" title="http://example.com/2025/08/06/%E9%9D%A2%E8%AF%95%E8%AE%B0%E5%BD%95_2025_8_06/"></div><div class="reward-dec">使用手机访问这篇文章</div></div></div></div></div><div class="share-link weibo"><a class="share-button" target="_blank" href="https://service.weibo.com/share/share.php?title=面试记录_2025_8_06&amp;url=http://example.com/2025/08/06/%E9%9D%A2%E8%AF%95%E8%AE%B0%E5%BD%95_2025_8_06/&amp;pic=https://origin.picgo.net/2025/08/07/202012111639381648986755c150cff23.png" rel="external nofollow noreferrer noopener"><i class="anzhiyufont anzhiyu-icon-weibo"></i></a></div><script>function copyCurrentPageUrl() {
  var currentPageUrl = window.location.href;
  var input = document.createElement("input");
  input.setAttribute("value", currentPageUrl);
  document.body.appendChild(input);
  input.select();
  input.setSelectionRange(0, 99999);
  document.execCommand("copy");
  document.body.removeChild(input);
}</script><div class="share-link copyurl"><div class="share-button" id="post-share-url" title="复制链接" onclick="copyCurrentPageUrl()"><i class="anzhiyufont anzhiyu-icon-link"></i></div></div></div></div></div><div class="post-copyright__notice"><span class="post-copyright-info">All articles in this blog are licensed under <a target="_blank" rel="noopener" href="https://creativecommons.org/licenses/by-nc-sa/4.0/">CC BY-NC-SA 4.0</a> unless stating additionally.</span></div></div><div class="post-tools-right"><div class="tag_share"><div class="post-meta__box"><div class="post-meta__box__tag-list"><a class="post-meta__box__tags" href="/tags/Java/"><span class="tags-punctuation"> <i class="anzhiyufont anzhiyu-icon-tag"></i></span>Java<span class="tagsPageCount">9</span></a><a class="post-meta__box__tags" href="/tags/Python/"><span class="tags-punctuation"> <i class="anzhiyufont anzhiyu-icon-tag"></i></span>Python<span class="tagsPageCount">5</span></a></div></div></div><div class="post_share"><div class="social-share" data-image="https://origin.picgo.net/2025/08/07/1eb94f064cf74b04865bdaf1b3c8e9be6939674b9205c975.png" data-sites="facebook,twitter,wechat,weibo,qq"></div><link rel="stylesheet" href="https://cdn.cbd.int/butterfly-extsrc@1.1.3/sharejs/dist/css/share.min.css" media="print" onload="this.media='all'"/><script src="https://cdn.cbd.int/butterfly-extsrc@1.1.3/sharejs/dist/js/social-share.min.js" defer="defer"></script></div></div><nav class="pagination-post" id="pagination"><div class="prev-post pull-left"><a href="/2025/08/04/CI_CD/"><img class="prev-cover" src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" onerror="this.onerror=null,this.src=&quot;/img/404.jpg&quot;" data-lazy-src="https://origin.picgo.net/2025/08/06/6f09addd20454c0f9372635276c5dd472c07d39c6992c2ac.png" onerror="onerror=null;src='/img/404.jpg'" alt="cover of previous post"><div class="pagination-info"><div class="label">Previous Post</div><div class="prev_info">CI/CD</div></div></a></div><div class="next-post pull-right"><a href="/2025/08/06/Redis_BitMap/"><img class="next-cover" src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" onerror="this.onerror=null,this.src=&quot;/img/404.jpg&quot;" data-lazy-src="https://origin.picgo.net/2025/08/07/1eb94f064cf74b04865bdaf1b3c8e9be6939674b9205c975.png" onerror="onerror=null;src='/img/404.jpg'" alt="cover of next post"><div class="pagination-info"><div class="label">Next Post</div><div class="next_info">Redis_BitMap</div></div></a></div></nav><div class="relatedPosts"><div class="headline"><i class="anzhiyufont anzhiyu-icon-thumbs-up fa-fw" style="font-size: 1.5rem; margin-right: 4px"></i><span>Related Articles</span></div><div class="relatedPosts-list"><div><a href="/2025/09/23/%E9%9D%A2%E8%AF%95%E8%AE%B0%E5%BD%95_2020_9_23/" title="面试记录_2025_6_27"><img class="cover" src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" onerror="this.onerror=null,this.src=&quot;/img/404.jpg&quot;" data-lazy-src="https://origin.picgo.net/2025/08/07/202012111639381648986755c150cff23.png" alt="cover"><div class="content is-center"><div class="date"><i class="anzhiyufont anzhiyu-icon-calendar-days fa-fw"></i> 2025-09-23</div><div class="title">面试记录_2025_6_27</div></div></a></div><div><a href="/2025/06/27/%E9%9D%A2%E8%AF%95%E8%AE%B0%E5%BD%95_2025_6_27/" title="面试记录_2025_6_27"><img class="cover" src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" onerror="this.onerror=null,this.src=&quot;/img/404.jpg&quot;" data-lazy-src="https://origin.picgo.net/2025/08/07/202012111639381648986755c150cff23.png" alt="cover"><div class="content is-center"><div class="date"><i class="anzhiyufont anzhiyu-icon-calendar-days fa-fw"></i> 2025-06-27</div><div class="title">面试记录_2025_6_27</div></div></a></div><div><a href="/2025/08/07/%E9%9D%A2%E8%AF%95%E8%AE%B0%E5%BD%95_2025_8_07/" title="面试记录_2025_8_07"><img class="cover" src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" onerror="this.onerror=null,this.src=&quot;/img/404.jpg&quot;" data-lazy-src="https://origin.picgo.net/2025/08/07/202012111639381648986755c150cff23.png" alt="cover"><div class="content is-center"><div class="date"><i class="anzhiyufont anzhiyu-icon-calendar-days fa-fw"></i> 2025-08-07</div><div class="title">面试记录_2025_8_07</div></div></a></div><div><a href="/2025/08/31/Java_%E6%9E%9A%E4%B8%BE/" title="Java枚举的优雅使用"><img class="cover" src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" onerror="this.onerror=null,this.src=&quot;/img/404.jpg&quot;" data-lazy-src="https://origin.picgo.net/2025/09/02/meiju61fc0442f4a00c39.png" alt="cover"><div class="content is-center"><div class="date"><i class="anzhiyufont anzhiyu-icon-calendar-days fa-fw"></i> 2025-08-31</div><div class="title">Java枚举的优雅使用</div></div></a></div><div><a href="/2025/06/27/Java%E5%85%AB%E8%82%A1/" title="Java常见八股"><img class="cover" src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" onerror="this.onerror=null,this.src=&quot;/img/404.jpg&quot;" data-lazy-src="https://img02.anheyu.com/adminuploads/1/2022/09/05/6315e1487d0f0.webp" alt="cover"><div class="content is-center"><div class="date"><i class="anzhiyufont anzhiyu-icon-calendar-days fa-fw"></i> 2025-06-27</div><div class="title">Java常见八股</div></div></a></div><div><a href="/2025/09/20/Java_%E6%B3%A8%E8%A7%A3/" title="Java注解"><img class="cover" src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" onerror="this.onerror=null,this.src=&quot;/img/404.jpg&quot;" data-lazy-src="https://origin.picgo.net/2025/09/25/Java_programming_language-Logo.wine1fede47ef64618a5.png" alt="cover"><div class="content is-center"><div class="date"><i class="anzhiyufont anzhiyu-icon-calendar-days fa-fw"></i> 2025-09-20</div><div class="title">Java注解</div></div></a></div></div></div></div><div class="aside-content" id="aside-content"><div class="card-widget card-info"><div class="card-content"><div class="author-info__sayhi" id="author-info__sayhi" onclick="anzhiyu.changeSayHelloText()"></div><div class="author-info-avatar"><img class="avatar-img" src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" onerror="this.onerror=null,this.src=&quot;/img/404.jpg&quot;" data-lazy-src="https://img.picgo.net/2025/06/23/tom09183405464859c2.jpg" onerror="this.onerror=null;this.src='/img/friend_404.gif'" alt="avatar"/></div><div class="author-info__description"><div style="line-height:1.38;margin:0.6rem 0;text-align:justify;color:rgba(255, 255, 255, 0.8);">这有关于<b style="color:#fff">产品、设计、开发</b>相关的问题和看法，还有<b style="color:#fff">文章翻译</b>和<b style="color:#fff">分享</b>。</div><div style="line-height:1.38;margin:0.6rem 0;text-align:justify;color:rgba(255, 255, 255, 0.8);">相信你可以在这里找到对你有用的<b style="color:#fff">知识</b>和<b style="color:#fff">教程</b>。</div></div><div class="author-info__bottom-group"><a class="author-info__bottom-group-left" href="/"><h1 class="author-info__name">Joie</h1><div class="author-info__desc"></div></a><div class="card-info-social-icons is-center"><a class="social-icon faa-parent animated-hover" href="https://github.com/BenedictTom" target="_blank" title="Github"><i class="anzhiyufont anzhiyu-icon-github"></i></a><a class="social-icon faa-parent animated-hover" href="https://space.bilibili.com/372204786" target="_blank" title="BiliBili"><i class="anzhiyufont anzhiyu-icon-bilibili"></i></a></div></div></div></div><div class="sticky_layout"><div class="card-widget" id="card-toc"><div class="item-headline"><i class="anzhiyufont anzhiyu-icon-bars"></i><span>Catalog</span><span class="toc-percentage"></span></div><div class="toc-content"><ol class="toc"><li class="toc-item toc-level-1"><a class="toc-link" href="#%E9%9D%A2%E8%AF%95%E8%AE%B0%E5%BD%95-2025-6-27"><span class="toc-number">1.</span> <span class="toc-text">面试记录 2025-6-27</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#%F0%9F%93%8C-%E5%80%99%E9%80%89%E4%BA%BA%E4%BF%A1%E6%81%AF"><span class="toc-number">1.1.</span> <span class="toc-text">📌 候选人信息</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E8%87%AA%E6%88%91%E4%BB%8B%E7%BB%8D%E7%8E%AF%E8%8A%82%EF%BC%885%E5%88%86%E9%92%9F%EF%BC%89"><span class="toc-number">1.2.</span> <span class="toc-text">自我介绍环节（5分钟）</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%F0%9F%94%8D-%E6%8A%80%E6%9C%AF%E8%80%83%E5%AF%9F%E8%AE%B0%E5%BD%95"><span class="toc-number">1.3.</span> <span class="toc-text">🔍 技术考察记录</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#1-%E4%BD%A0%E6%98%AF%E5%A6%82%E4%BD%95%E4%BD%BF%E7%94%A8-Alibaba-Cola-%E7%8A%B6%E6%80%81%E6%9C%BA%E6%A8%A1%E5%9E%8B%E6%9D%A5%E7%AE%A1%E7%90%86%E6%B6%89%E5%AF%86%E8%BD%BD%E4%BD%93%E7%8A%B6%E6%80%81%E5%8F%98%E6%9B%B4%E7%9A%84%EF%BC%9F%E7%8A%B6%E6%80%81%E5%8F%98%E5%8C%96%E7%9A%84%E8%A7%A6%E5%8F%91%E6%9C%BA%E5%88%B6%E6%98%AF%E6%80%8E%E6%A0%B7%E7%9A%84%EF%BC%9F"><span class="toc-number">1.3.1.</span> <span class="toc-text">1. 你是如何使用 Alibaba Cola 状态机模型来管理涉密载体状态变更的？状态变化的触发机制是怎样的？</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#2-%E5%9C%A8%E9%A1%B9%E7%9B%AE%E4%B8%AD%E4%BD%BF%E7%94%A8-Nacos-%E4%BD%9C%E4%B8%BA%E9%85%8D%E7%BD%AE%E4%B8%AD%E5%BF%83%E6%97%B6%EF%BC%8C%E4%BD%A0%E9%81%87%E5%88%B0%E4%BA%86%E5%93%AA%E4%BA%9B%E6%8C%91%E6%88%98%EF%BC%9F%E5%A6%82%E4%BD%95%E7%BB%B4%E6%8A%A4-MySQL%E3%80%81Redis-%E7%AD%89%E5%8A%A8%E6%80%81%E9%85%8D%E7%BD%AE%E7%9A%84%E6%9B%B4%E6%96%B0%EF%BC%9F"><span class="toc-number">1.3.2.</span> <span class="toc-text">2. 在项目中使用 Nacos 作为配置中心时，你遇到了哪些挑战？如何维护 MySQL、Redis 等动态配置的更新？</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#3-%E4%BD%BF%E7%94%A8-WebSocket-%E4%B8%8E-RabbitMQ-%E5%AE%9E%E7%8E%B0%E6%9F%9C%E4%BD%93%E7%AB%AF-APK-%E6%9B%B4%E6%96%B0%E5%8D%87%E7%BA%A7%E6%97%B6%EF%BC%8C%E5%A6%82%E4%BD%95%E4%BF%9D%E8%AF%81%E6%B6%88%E6%81%AF%E7%9A%84%E5%8F%AF%E9%9D%A0%E4%BC%A0%E9%80%92%E4%B8%8E%E5%A4%84%E7%90%86%EF%BC%9F"><span class="toc-number">1.3.3.</span> <span class="toc-text">3. 使用 WebSocket 与 RabbitMQ 实现柜体端 APK 更新升级时，如何保证消息的可靠传递与处理？</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#4-%E5%A6%82%E4%BD%95%E4%BD%BF%E7%94%A8-EasyExcel-%E5%AE%9E%E7%8E%B0%E5%A4%8D%E6%9D%82%E6%8A%A5%E8%A1%A8%E7%9A%84%E5%AF%BC%E5%85%A5%E5%AF%BC%E5%87%BA%EF%BC%9F%E5%9C%A8%E5%A4%A7%E6%95%B0%E6%8D%AE%E9%87%8F%E4%B8%8B%E5%A6%82%E4%BD%95%E4%BC%98%E5%8C%96%E6%80%A7%E8%83%BD%EF%BC%9F"><span class="toc-number">1.3.4.</span> <span class="toc-text">4. 如何使用 EasyExcel 实现复杂报表的导入导出？在大数据量下如何优化性能？</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#5-%E5%BD%93%E6%A3%80%E6%B5%8B%E5%88%B0%E2%80%9C%E6%99%9A%E9%97%B4%E4%B8%8D%E5%85%A5%E6%9F%9C%E2%80%9D%E7%AD%89%E5%BC%82%E5%B8%B8%E6%97%B6%EF%BC%8C%E7%B3%BB%E7%BB%9F%E5%A6%82%E4%BD%95%E8%87%AA%E5%8A%A8%E9%A2%84%E8%AD%A6%E5%B9%B6%E6%8E%A8%E9%80%81%E4%BF%A1%E6%81%AF%EF%BC%9F"><span class="toc-number">1.3.5.</span> <span class="toc-text">5. 当检测到“晚间不入柜”等异常时，系统如何自动预警并推送信息？</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#6-%E5%9C%A8%E2%80%9C%E6%B5%8B%E8%AF%95%E4%B8%AD%E5%BF%83%E6%A8%A1%E5%9D%97%E2%80%9D%E4%B8%AD%EF%BC%8C%E4%BD%A0%E6%98%AF%E5%A6%82%E4%BD%95%E8%AE%BE%E8%AE%A1%E6%B5%8B%E8%AF%95%E9%A1%B9%E7%BC%96%E8%BE%91%E3%80%81%E4%B8%B4%E6%97%B6%E6%B5%8B%E8%AF%95%E5%92%8C%E4%BB%BB%E5%8A%A1%E5%AE%A1%E6%89%B9%E6%B5%81%E7%A8%8B%E7%9A%84%EF%BC%9F"><span class="toc-number">1.3.6.</span> <span class="toc-text">6. 在“测试中心模块”中，你是如何设计测试项编辑、临时测试和任务审批流程的？</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#7-%E7%B3%BB%E7%BB%9F%E6%94%AF%E6%8C%81%E5%A4%9A%E7%A7%8D%E9%80%9A%E4%BF%A1%E7%B1%BB%E5%9E%8B%E8%AE%BE%E5%A4%87%E6%8E%A5%E5%85%A5%EF%BC%8C%E4%BD%A0%E6%98%AF%E5%A6%82%E4%BD%95%E8%A7%A3%E5%86%B3%E8%AE%BE%E5%A4%87%E5%85%BC%E5%AE%B9%E6%80%A7%E9%97%AE%E9%A2%98%E7%9A%84%EF%BC%9F"><span class="toc-number">1.3.7.</span> <span class="toc-text">7. 系统支持多种通信类型设备接入，你是如何解决设备兼容性问题的？</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#8-%E4%BD%BF%E7%94%A8-WebSocket-%E5%AE%9E%E7%8E%B0%E6%B5%8B%E8%AF%95%E8%BF%87%E7%A8%8B%E5%AE%9E%E6%97%B6%E9%80%9A%E4%BF%A1%E6%97%B6%EF%BC%8C%E5%A6%82%E4%BD%95%E4%BF%9D%E8%AF%81%E7%BD%91%E7%BB%9C%E4%B8%8D%E4%BD%B3%E4%B8%8B%E7%9A%84%E7%A8%B3%E5%AE%9A%E6%80%A7%EF%BC%9F"><span class="toc-number">1.3.8.</span> <span class="toc-text">8. 使用 WebSocket 实现测试过程实时通信时，如何保证网络不佳下的稳定性？</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#9-%E4%BD%BF%E7%94%A8-Redis-Zset-%E7%BB%9F%E8%AE%A1%E6%95%85%E9%9A%9C%E7%8E%87%E9%AB%98%E7%9A%84%E7%94%B5%E6%BA%90%E4%BB%B6-Top-%E6%8E%92%E8%A1%8C%EF%BC%8C%E8%BF%99%E7%A7%8D%E5%81%9A%E6%B3%95%E7%9A%84%E4%BC%98%E5%8A%BF%E6%98%AF%E4%BB%80%E4%B9%88%EF%BC%9F"><span class="toc-number">1.3.9.</span> <span class="toc-text">9. 使用 Redis Zset 统计故障率高的电源件 Top 排行，这种做法的优势是什么？</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#10-%E5%A6%82%E4%BD%95%E4%BD%BF%E7%94%A8-Redis-BitMap-%E7%BB%9F%E8%AE%A1%E7%BD%91%E6%A0%BC%E5%91%98%E6%AF%8F%E6%97%A5%E7%AD%BE%E5%88%B0%E6%83%85%E5%86%B5%EF%BC%9F%E4%B8%BA%E4%BD%95%E9%80%89%E6%8B%A9-BitMap%EF%BC%9F"><span class="toc-number">1.3.10.</span> <span class="toc-text">10. 如何使用 Redis BitMap 统计网格员每日签到情况？为何选择 BitMap？</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#11-Redis-Geo-%E6%98%AF%E5%A6%82%E4%BD%95%E7%94%A8%E4%BA%8E%E7%BB%9F%E8%AE%A1%E6%8C%87%E5%AE%9A%E8%B7%9D%E7%A6%BB%E5%86%85%E5%B0%8F%E5%8C%BA%E7%9A%84%EF%BC%9F%E8%A7%A3%E5%86%B3%E4%BA%86%E4%BB%80%E4%B9%88%E9%97%AE%E9%A2%98%EF%BC%9F"><span class="toc-number">1.3.11.</span> <span class="toc-text">11. Redis Geo 是如何用于统计指定距离内小区的？解决了什么问题？</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#12-%E4%BD%BF%E7%94%A8-Sharding-JDBC-%E5%AF%B9%E9%A1%B9%E7%9B%AE%E4%BF%A1%E6%81%AF%E8%BF%9B%E8%A1%8C%E5%88%86%E8%A1%A8%EF%BC%8C%E4%BD%A0%E7%9A%84%E5%88%86%E8%A1%A8%E7%AD%96%E7%95%A5%E6%98%AF%E4%BB%80%E4%B9%88%EF%BC%9F"><span class="toc-number">1.3.12.</span> <span class="toc-text">12. 使用 Sharding-JDBC 对项目信息进行分表，你的分表策略是什么？</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#13-Sentinel-%E9%99%90%E6%B5%81%E8%A7%84%E5%88%99%E6%98%AF%E5%A6%82%E4%BD%95%E8%AE%BE%E8%AE%A1%E7%9A%84%EF%BC%9F%E5%A6%82%E4%BD%95%E9%80%82%E9%85%8D%E4%B8%8D%E5%90%8C%E4%B8%9A%E5%8A%A1%E5%9C%BA%E6%99%AF%EF%BC%9F"><span class="toc-number">1.3.13.</span> <span class="toc-text">13. Sentinel 限流规则是如何设计的？如何适配不同业务场景？</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#14-%E4%BD%BF%E7%94%A8-RocketMQ-%E5%AE%9E%E7%8E%B0%E5%BC%82%E6%AD%A5%E6%8A%A5%E9%80%81%E6%95%B0%E6%8D%AE%EF%BC%8C%E5%A6%82%E4%BD%95%E4%BF%9D%E8%AF%81%E6%B6%88%E6%81%AF%E5%8F%AF%E9%9D%A0%E6%80%A7%E5%92%8C%E9%A1%BA%E5%BA%8F%E6%80%A7%EF%BC%9F"><span class="toc-number">1.3.14.</span> <span class="toc-text">14. 使用 RocketMQ 实现异步报送数据，如何保证消息可靠性和顺序性？</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#15-%E4%BD%BF%E7%94%A8%E8%8B%A5%E4%BE%9D%EF%BC%88RuoYi%EF%BC%89%E8%BF%9B%E8%A1%8C%E6%9D%83%E9%99%90%E7%AE%A1%E7%90%86%E6%97%B6%EF%BC%8C%E9%81%87%E5%88%B0%E4%BA%86%E5%93%AA%E4%BA%9B%E6%8C%91%E6%88%98%EF%BC%9F"><span class="toc-number">1.3.15.</span> <span class="toc-text">15. 使用若依（RuoYi）进行权限管理时，遇到了哪些挑战？</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#16-%E5%9C%A8%E5%A4%A7%E9%87%8F%E5%B9%B6%E5%8F%91%E8%AE%BF%E9%97%AE%E4%B8%8B%EF%BC%8C%E4%BD%A0%E4%BB%AC%E5%A6%82%E4%BD%95%E4%BC%98%E5%8C%96%E6%8A%95%E8%B5%84%E4%BF%A1%E6%81%AF%E7%9A%84%E5%AD%98%E5%82%A8%E4%B8%8E%E6%9F%A5%E8%AF%A2%E6%80%A7%E8%83%BD%EF%BC%9F"><span class="toc-number">1.3.16.</span> <span class="toc-text">16. 在大量并发访问下，你们如何优化投资信息的存储与查询性能？</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%9C%BA%E6%99%AF%E9%A2%98"><span class="toc-number">1.4.</span> <span class="toc-text">场景题</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%F0%9F%A7%A9-%E4%BC%98%E5%8C%96%E5%90%8E%E7%9A%84%E5%9C%BA%E6%99%AF%E9%A2%98%E4%B8%8E%E7%AD%94%E6%A1%88%E8%A6%81%E7%82%B9%EF%BC%88%E9%92%88%E5%AF%B96%E5%B9%B4%E7%BB%8F%E9%AA%8C%E5%80%99%E9%80%89%E4%BA%BA%EF%BC%89"><span class="toc-number">1.4.1.</span> <span class="toc-text">🧩 优化后的场景题与答案要点（针对6年经验候选人）</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#1-%E3%80%90%E6%B6%89%E5%AF%86%E8%BD%BD%E4%BD%93%E7%B3%BB%E7%BB%9F%E3%80%91%E7%8A%B6%E6%80%81%E6%9C%BA%E4%B8%8E%E5%88%86%E5%B8%83%E5%BC%8F%E4%BA%8B%E5%8A%A1"><span class="toc-number">1.4.1.1.</span> <span class="toc-text">1. 【涉密载体系统】状态机与分布式事务</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#2-%E3%80%90%E8%87%AA%E5%8A%A8%E5%8C%96%E6%B5%8B%E8%AF%95%E7%B3%BB%E7%BB%9F%E3%80%91%E9%AB%98%E5%B9%B6%E5%8F%91%E6%B5%8B%E8%AF%95%E4%BB%BB%E5%8A%A1%E8%B0%83%E5%BA%A6%E4%B8%8E%E8%B5%84%E6%BA%90%E9%9A%94%E7%A6%BB"><span class="toc-number">1.4.1.2.</span> <span class="toc-text">2. 【自动化测试系统】高并发测试任务调度与资源隔离</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#3-%E3%80%90%E5%B0%8F%E5%8C%BA%E5%B7%A1%E6%A3%80%E9%A1%B9%E7%9B%AE%E3%80%91%E9%AB%98%E5%B9%B6%E5%8F%91%E7%AD%BE%E5%88%B0%E4%B8%8E%E5%9C%B0%E7%90%86%E4%BD%8D%E7%BD%AE%E6%9C%8D%E5%8A%A1%E4%BC%98%E5%8C%96"><span class="toc-number">1.4.1.3.</span> <span class="toc-text">3. 【小区巡检项目】高并发签到与地理位置服务优化</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#4-%E3%80%90%E6%8A%95%E8%B5%84%E7%AE%A1%E7%90%86%E7%B3%BB%E7%BB%9F%E3%80%91%E6%B5%B7%E9%87%8F%E6%95%B0%E6%8D%AE%E6%8A%A5%E8%A1%A8%E6%9F%A5%E8%AF%A2%E6%80%A7%E8%83%BD%E7%93%B6%E9%A2%88"><span class="toc-number">1.4.1.4.</span> <span class="toc-text">4. 【投资管理系统】海量数据报表查询性能瓶颈</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#5-%E3%80%90%E8%B7%A8%E9%A1%B9%E7%9B%AE%E3%80%91%E7%B3%BB%E7%BB%9F%E9%87%8D%E6%9E%84%E4%B8%8E%E6%8A%80%E6%9C%AF%E5%80%BA%E5%81%BF%E8%BF%98"><span class="toc-number">1.4.1.5.</span> <span class="toc-text">5. 【跨项目】系统重构与技术债偿还</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#6-%E3%80%90%E7%BB%BC%E5%90%88%E3%80%91%E7%B3%BB%E7%BB%9F%E4%BB%8E%E5%8D%95%E4%BD%93%E5%88%B0%E5%BE%AE%E6%9C%8D%E5%8A%A1%E7%9A%84%E6%BC%94%E8%BF%9B"><span class="toc-number">1.4.1.6.</span> <span class="toc-text">6. 【综合】系统从单体到微服务的演进</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#List%E6%93%8D%E4%BD%9C"><span class="toc-number">1.4.2.</span> <span class="toc-text">List操作</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%B9%B6%E5%8F%91%E5%A4%84%E7%90%86"><span class="toc-number">1.4.3.</span> <span class="toc-text">并发处理</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Spring-Boot"><span class="toc-number">1.4.4.</span> <span class="toc-text">Spring Boot</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E7%BC%93%E5%AD%98%E6%9C%BA%E5%88%B6"><span class="toc-number">1.4.5.</span> <span class="toc-text">缓存机制</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%BE%AE%E6%9C%8D%E5%8A%A1%E6%9E%B6%E6%9E%84"><span class="toc-number">1.4.6.</span> <span class="toc-text">微服务架构</span></a></li></ol></li></ol></li></ol></div></div><div class="card-widget card-recent-post"><div class="item-headline"><i class="anzhiyufont anzhiyu-icon-history"></i><span>Recent Post</span></div><div class="aside-list"><div class="aside-list-item"><a class="thumbnail" href="/2025/09/26/Redis_List/" title="Redis_List"><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" onerror="this.onerror=null,this.src=&quot;/img/404.jpg&quot;" data-lazy-src="https://origin.picgo.net/2025/08/07/1eb94f064cf74b04865bdaf1b3c8e9be6939674b9205c975.png" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="Redis_List"/></a><div class="content"><a class="title" href="/2025/09/26/Redis_List/" title="Redis_List">Redis_List</a><time datetime="2025-09-26T06:03:11.297Z" title="Created 2025-09-26 14:03:11">2025-09-26</time></div></div><div class="aside-list-item"><a class="thumbnail" href="/2025/09/25/%E7%AE%97%E6%B3%95_%E6%8E%92%E5%BA%8F/" title="算法_常见排序及复杂度比较"><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" onerror="this.onerror=null,this.src=&quot;/img/404.jpg&quot;" data-lazy-src="https://origin.picgo.net/2025/08/31/data_st36d19cecfce34426.png" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="算法_常见排序及复杂度比较"/></a><div class="content"><a class="title" href="/2025/09/25/%E7%AE%97%E6%B3%95_%E6%8E%92%E5%BA%8F/" title="算法_常见排序及复杂度比较">算法_常见排序及复杂度比较</a><time datetime="2025-09-25T08:32:37.098Z" title="Created 2025-09-25 16:32:37">2025-09-25</time></div></div><div class="aside-list-item"><a class="thumbnail" href="/2025/09/25/Spring_Async/" title="Spring Async 异步编程详解"><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" onerror="this.onerror=null,this.src=&quot;/img/404.jpg&quot;" data-lazy-src="https://origin.picgo.net/2025/09/25/asyncabc674a8cbe370a0.png" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="Spring Async 异步编程详解"/></a><div class="content"><a class="title" href="/2025/09/25/Spring_Async/" title="Spring Async 异步编程详解">Spring Async 异步编程详解</a><time datetime="2025-09-25T02:57:07.010Z" title="Created 2025-09-25 10:57:07">2025-09-25</time></div></div><div class="aside-list-item"><a class="thumbnail" href="/2025/09/23/%E9%9D%A2%E8%AF%95%E8%AE%B0%E5%BD%95_2020_9_23/" title="面试记录_2025_6_27"><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" onerror="this.onerror=null,this.src=&quot;/img/404.jpg&quot;" data-lazy-src="https://origin.picgo.net/2025/08/07/202012111639381648986755c150cff23.png" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="面试记录_2025_6_27"/></a><div class="content"><a class="title" href="/2025/09/23/%E9%9D%A2%E8%AF%95%E8%AE%B0%E5%BD%95_2020_9_23/" title="面试记录_2025_6_27">面试记录_2025_6_27</a><time datetime="2025-09-23T01:35:50.929Z" title="Created 2025-09-23 09:35:50">2025-09-23</time></div></div><div class="aside-list-item"><a class="thumbnail" href="/2025/09/21/Python_%E8%A3%85%E9%A5%B0%E5%99%A8/" title="Python装饰器"><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" onerror="this.onerror=null,this.src=&quot;/img/404.jpg&quot;" data-lazy-src="https://origin.picgo.net/2025/09/25/deco4918756a582fd2b8.png" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="Python装饰器"/></a><div class="content"><a class="title" href="/2025/09/21/Python_%E8%A3%85%E9%A5%B0%E5%99%A8/" title="Python装饰器">Python装饰器</a><time datetime="2025-09-20T16:00:33.502Z" title="Created 2025-09-21 00:00:33">2025-09-21</time></div></div></div></div></div></div></div></main><footer id="footer"><div id="footer-wrap"><div id="workboard"><div id="runtimeTextTip"></div></div><p id="ghbdages"><a class="github-badge" target="_blank" href="https://hexo.io/" style="margin-inline:5px" data-title="博客框架为Hexo_v5.4.0" title="博客框架为Hexo_v5.4.0"><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" onerror="this.onerror=null,this.src=&quot;/img/404.jpg&quot;" data-lazy-src="https://npm.elemecdn.com/anzhiyu-blog@2.1.5/img/badge/Frame-Hexo.svg" alt="博客框架为Hexo_v5.4.0"/></a><a class="github-badge" target="_blank" href="https://blog.anheyu.com/" style="margin-inline:5px" data-title="本站使用AnZhiYu主题" title="本站使用AnZhiYu主题"><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" onerror="this.onerror=null,this.src=&quot;/img/404.jpg&quot;" data-lazy-src="https://npm.elemecdn.com/anzhiyu-theme-static@1.0.9/img/Theme-AnZhiYu-2E67D3.svg" alt="本站使用AnZhiYu主题"/></a></p></div><div id="footer-bar"><div class="footer-bar-links"><div class="footer-bar-left"><div id="footer-bar-tips"><div class="copyright">&copy;2025 By <a class="footer-bar-link" href="/" title="Joie" target="_blank">Joie</a></div></div><div id="footer-type-tips"></div><div class="js-pjax"><script>function subtitleType () {
  fetch('https://v1.hitokoto.cn')
    .then(response => response.json())
    .then(data => {
      if (true) {
        const from = '出自 ' + data.from
        const sub = []
        sub.unshift(data.hitokoto, from)
        window.typed = new Typed('#footer-type-tips', {
          strings: sub,
          startDelay: 300,
          typeSpeed: 150,
          loop: true,
          backSpeed: 50,
        })
      } else {
        document.getElementById('footer-type-tips').innerHTML = data.hitokoto
      }
    })
}

if (true) {
  if (typeof Typed === 'function') {
    subtitleType()
  } else {
    getScript('https://cdn.cbd.int/typed.js@2.1.0/dist/typed.umd.js').then(subtitleType)
  }
} else {
  subtitleType()
}
</script></div></div><div class="footer-bar-right"><a class="footer-bar-link" target="_blank" rel="noopener" href="https://github.com/anzhiyu-c/hexo-theme-anzhiyu" title="主题">主题</a></div></div></div></footer></div><div id="sidebar"><div id="menu-mask"></div><div id="sidebar-menus"><div class="sidebar-site-data site-data is-center"><a href="/archives/" title="archive"><div class="headline">Articles</div><div class="length-num">92</div></a><a href="/tags/" title="tag"><div class="headline">Tags</div><div class="length-num">40</div></a><a href="/categories/" title="category"><div class="headline">Categories</div><div class="length-num">29</div></a></div><span class="sidebar-menu-item-title">Function</span><div class="sidebar-menu-item"><a class="darkmode_switchbutton menu-child" href="javascript:void(0);" title="Display Mode"><i class="anzhiyufont anzhiyu-icon-circle-half-stroke"></i><span>Display Mode</span></a></div><div class="back-menu-list-groups"><div class="back-menu-list-group"><div class="back-menu-list-title">个人主页</div><div class="back-menu-list"><a class="back-menu-item" target="_blank" rel="noopener" href="https://benedicttom.github.io/home/" title="个人主页"><img class="back-menu-item-icon" src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" onerror="this.onerror=null,this.src=&quot;/img/404.jpg&quot;" data-lazy-src="/img/favicon.ico" alt="个人主页"/><span class="back-menu-item-text">个人主页</span></a></div></div></div><div class="menus_items"><div class="menus_item"><a class="site-page" href="javascript:void(0);"><span> 文章</span></a><ul class="menus_item_child"><li><a class="site-page child faa-parent animated-hover" href="/archives/"><i class="anzhiyufont anzhiyu-icon-box-archive faa-tada" style="font-size: 0.9em;"></i><span> 隧道</span></a></li><li><a class="site-page child faa-parent animated-hover" href="/categories/"><i class="anzhiyufont anzhiyu-icon-shapes faa-tada" style="font-size: 0.9em;"></i><span> 分类</span></a></li><li><a class="site-page child faa-parent animated-hover" href="/tags/"><i class="anzhiyufont anzhiyu-icon-tags faa-tada" style="font-size: 0.9em;"></i><span> 标签</span></a></li></ul></div><div class="menus_item"><a class="site-page" href="javascript:void(0);"><span> 友链</span></a><ul class="menus_item_child"><li><a class="site-page child faa-parent animated-hover" href="/link/"><i class="anzhiyufont anzhiyu-icon-link faa-tada" style="font-size: 0.9em;"></i><span> 友人帐</span></a></li><li><a class="site-page child faa-parent animated-hover" href="/comments/"><i class="anzhiyufont anzhiyu-icon-envelope faa-tada" style="font-size: 0.9em;"></i><span> 留言板</span></a></li></ul></div><div class="menus_item"><a class="site-page" href="javascript:void(0);"><span> 我的</span></a><ul class="menus_item_child"><li><a class="site-page child faa-parent animated-hover" href="/music/"><i class="anzhiyufont anzhiyu-icon-music faa-tada" style="font-size: 0.9em;"></i><span> 音乐馆</span></a></li><li><a class="site-page child faa-parent animated-hover" href="/album/"><i class="anzhiyufont anzhiyu-icon-images faa-tada" style="font-size: 0.9em;"></i><span> 相册集</span></a></li></ul></div><div class="menus_item"><a class="site-page" href="javascript:void(0);"><span> 关于</span></a><ul class="menus_item_child"><li><a class="site-page child faa-parent animated-hover" href="/about/"><i class="anzhiyufont anzhiyu-icon-paper-plane faa-tada" style="font-size: 0.9em;"></i><span> 关于本人</span></a></li><li><a class="site-page child faa-parent animated-hover" href="/essay/"><i class="anzhiyufont anzhiyu-icon-lightbulb faa-tada" style="font-size: 0.9em;"></i><span> 闲言碎语</span></a></li><li><a class="site-page child faa-parent animated-hover" href="javascript:toRandomPost()"><i class="anzhiyufont anzhiyu-icon-shoe-prints1 faa-tada" style="font-size: 0.9em;"></i><span> 随便逛逛</span></a></li><li><a class="site-page child faa-parent animated-hover" href="/equipment/"><i class="anzhiyufont anzhiyu-icon-dice-d20 faa-tada" style="font-size: 0.9em;"></i><span> 我的装备</span></a></li></ul></div></div><span class="sidebar-menu-item-title">标签</span><div class="card-tags"><div class="item-headline"></div><div class="card-tag-cloud"><a href="/tags/AMQP/" style="font-size: 0.88rem;">AMQP<sup>1</sup></a><a href="/tags/CI-CD/" style="font-size: 0.88rem;">CI/CD<sup>1</sup></a><a href="/tags/ElasticSearch/" style="font-size: 0.88rem;">ElasticSearch<sup>3</sup></a><a href="/tags/Hexo/" style="font-size: 0.88rem;">Hexo<sup>1</sup></a><a href="/tags/Http/" style="font-size: 0.88rem;">Http<sup>2</sup></a><a href="/tags/I-O/" style="font-size: 0.88rem;">I/O<sup>2</sup></a><a href="/tags/Java/" style="font-size: 0.88rem;">Java<sup>9</sup></a><a href="/tags/MongoDB/" style="font-size: 0.88rem;">MongoDB<sup>1</sup></a><a href="/tags/Mysql/" style="font-size: 0.88rem;">Mysql<sup>2</sup></a><a href="/tags/ORM/" style="font-size: 0.88rem;">ORM<sup>3</sup></a><a href="/tags/Python/" style="font-size: 0.88rem;">Python<sup>5</sup></a><a href="/tags/Redis/" style="font-size: 0.88rem;">Redis<sup>7</sup></a><a href="/tags/Redisson/" style="font-size: 0.88rem;">Redisson<sup>1</sup></a><a href="/tags/Rpc/" style="font-size: 0.88rem;">Rpc<sup>2</sup></a><a href="/tags/Spring/" style="font-size: 0.88rem;">Spring<sup>3</sup></a><a href="/tags/Spring-Cloud/" style="font-size: 0.88rem;">Spring Cloud<sup>5</sup></a><a href="/tags/Spring-Data/" style="font-size: 0.88rem;">Spring Data<sup>5</sup></a><a href="/tags/Swagger/" style="font-size: 0.88rem;">Swagger<sup>2</sup></a><a href="/tags/%E4%B8%9A%E5%8A%A1/" style="font-size: 0.88rem;">业务<sup>1</sup></a><a href="/tags/%E4%BA%91%E5%8E%9F%E7%94%9F/" style="font-size: 0.88rem;">云原生<sup>1</sup></a><a href="/tags/%E5%85%AB%E8%82%A1/" style="font-size: 0.88rem;">八股<sup>1</sup></a><a href="/tags/%E5%88%86%E5%B8%83%E5%BC%8F%E9%94%81/" style="font-size: 0.88rem;">分布式锁<sup>1</sup></a><a href="/tags/%E5%8A%9B%E6%89%A3/" style="font-size: 0.88rem;">力扣<sup>10</sup></a><a href="/tags/%E5%A4%9A%E7%BA%BF%E7%A8%8B/" style="font-size: 0.88rem;">多线程<sup>9</sup></a><a href="/tags/%E5%AE%9A%E6%97%B6%E4%BB%BB%E5%8A%A1/" style="font-size: 0.88rem;">定时任务<sup>3</sup></a><a href="/tags/%E5%B9%B6%E5%8F%91/" style="font-size: 0.88rem;">并发<sup>9</sup></a><a href="/tags/%E5%BC%80%E5%8F%91%E5%B7%A5%E5%85%B7/" style="font-size: 0.88rem;">开发工具<sup>2</sup></a><a href="/tags/%E5%BC%82%E6%AD%A5%E7%BC%96%E7%A8%8B/" style="font-size: 0.88rem;">异步编程<sup>1</sup></a><a href="/tags/%E6%8E%A8%E8%8D%90/" style="font-size: 0.88rem;">推荐<sup>1</sup></a><a href="/tags/%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84/" style="font-size: 0.88rem;">数据结构<sup>1</sup></a><a href="/tags/%E6%9D%83%E9%99%90%E6%A0%A1%E9%AA%8C/" style="font-size: 0.88rem;">权限校验<sup>4</sup></a><a href="/tags/%E6%9E%B6%E6%9E%84/" style="font-size: 0.88rem;">架构<sup>1</sup></a><a href="/tags/%E6%A0%91/" style="font-size: 0.88rem;">树<sup>1</sup></a><a href="/tags/%E6%B6%88%E6%81%AF%E9%98%9F%E5%88%97/" style="font-size: 0.88rem;">消息队列<sup>5</sup></a><a href="/tags/%E7%AE%97%E6%B3%95/" style="font-size: 0.88rem;">算法<sup>2</sup></a><a href="/tags/%E7%BC%93%E5%AD%98/" style="font-size: 0.88rem;">缓存<sup>3</sup></a><a href="/tags/%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F/" style="font-size: 0.88rem;">设计模式<sup>1</sup></a><a href="/tags/%E8%BF%90%E7%BB%B4/" style="font-size: 0.88rem;">运维<sup>2</sup></a><a href="/tags/%E9%9B%86%E5%90%88/" style="font-size: 0.88rem;">集合<sup>1</sup></a><a href="/tags/%E9%9D%A2%E8%AF%95/" style="font-size: 0.88rem;">面试<sup>3</sup></a></div></div><hr/></div></div><div id="rightside"><div id="rightside-config-hide"><button id="readmode" type="button" title="Read Mode"><i class="anzhiyufont anzhiyu-icon-book-open"></i></button><button id="translateLink" type="button" title="Switch Between Traditional Chinese And Simplified Chinese">繁</button><button id="darkmode" type="button" title="Switch Between Light And Dark Mode"><i class="anzhiyufont anzhiyu-icon-circle-half-stroke"></i></button><button id="hide-aside-btn" type="button" title="Toggle between single-column and double-column"><i class="anzhiyufont anzhiyu-icon-arrows-left-right"></i></button></div><div id="rightside-config-show"><button id="rightside-config" type="button" title="Setting"><i class="anzhiyufont anzhiyu-icon-gear"></i></button><button class="close" id="mobile-toc-button" type="button" title="Table Of Contents"><i class="anzhiyufont anzhiyu-icon-list-ul"></i></button><button id="go-up" type="button" title="Back To Top"><i class="anzhiyufont anzhiyu-icon-arrow-up"></i></button></div></div><div id="nav-music"><a id="nav-music-hoverTips" onclick="anzhiyu.musicToggle()" accesskey="m">播放音乐</a><div id="console-music-bg"></div><meting-js id="8152976493" server="netease" type="playlist" mutex="true" preload="none" theme="var(--anzhiyu-main)" data-lrctype="0" order="random" volume="0.7"></meting-js></div><div id="rightMenu"><div class="rightMenu-group rightMenu-small"><div class="rightMenu-item" id="menu-backward"><i class="anzhiyufont anzhiyu-icon-arrow-left"></i></div><div class="rightMenu-item" id="menu-forward"><i class="anzhiyufont anzhiyu-icon-arrow-right"></i></div><div class="rightMenu-item" id="menu-refresh"><i class="anzhiyufont anzhiyu-icon-arrow-rotate-right" style="font-size: 1rem;"></i></div><div class="rightMenu-item" id="menu-top"><i class="anzhiyufont anzhiyu-icon-arrow-up"></i></div></div><div class="rightMenu-group rightMenu-line rightMenuPlugin"><div class="rightMenu-item" id="menu-copytext"><i class="anzhiyufont anzhiyu-icon-copy"></i><span>复制选中文本</span></div><div class="rightMenu-item" id="menu-pastetext"><i class="anzhiyufont anzhiyu-icon-paste"></i><span>粘贴文本</span></div><a class="rightMenu-item" id="menu-commenttext"><i class="anzhiyufont anzhiyu-icon-comment-medical"></i><span>引用到评论</span></a><div class="rightMenu-item" id="menu-newwindow"><i class="anzhiyufont anzhiyu-icon-window-restore"></i><span>新窗口打开</span></div><div class="rightMenu-item" id="menu-copylink"><i class="anzhiyufont anzhiyu-icon-link"></i><span>复制链接地址</span></div><div class="rightMenu-item" id="menu-copyimg"><i class="anzhiyufont anzhiyu-icon-images"></i><span>复制此图片</span></div><div class="rightMenu-item" id="menu-downloadimg"><i class="anzhiyufont anzhiyu-icon-download"></i><span>下载此图片</span></div><div class="rightMenu-item" id="menu-newwindowimg"><i class="anzhiyufont anzhiyu-icon-window-restore"></i><span>新窗口打开图片</span></div><div class="rightMenu-item" id="menu-search"><i class="anzhiyufont anzhiyu-icon-magnifying-glass"></i><span>站内搜索</span></div><div class="rightMenu-item" id="menu-searchBaidu"><i class="anzhiyufont anzhiyu-icon-magnifying-glass"></i><span>百度搜索</span></div><div class="rightMenu-item" id="menu-music-toggle"><i class="anzhiyufont anzhiyu-icon-play"></i><span>播放音乐</span></div><div class="rightMenu-item" id="menu-music-back"><i class="anzhiyufont anzhiyu-icon-backward"></i><span>切换到上一首</span></div><div class="rightMenu-item" id="menu-music-forward"><i class="anzhiyufont anzhiyu-icon-forward"></i><span>切换到下一首</span></div><div class="rightMenu-item" id="menu-music-playlist" onclick="window.open(&quot;https://y.qq.com/n/ryqq/playlist/8802438608&quot;, &quot;_blank&quot;);" style="display: none;"><i class="anzhiyufont anzhiyu-icon-radio"></i><span>查看所有歌曲</span></div><div class="rightMenu-item" id="menu-music-copyMusicName"><i class="anzhiyufont anzhiyu-icon-copy"></i><span>复制歌名</span></div></div><div class="rightMenu-group rightMenu-line rightMenuOther"><a class="rightMenu-item menu-link" id="menu-randomPost"><i class="anzhiyufont anzhiyu-icon-shuffle"></i><span>随便逛逛</span></a><a class="rightMenu-item menu-link" href="/categories/"><i class="anzhiyufont anzhiyu-icon-cube"></i><span>博客分类</span></a><a class="rightMenu-item menu-link" href="/tags/"><i class="anzhiyufont anzhiyu-icon-tags"></i><span>文章标签</span></a></div><div class="rightMenu-group rightMenu-line rightMenuOther"><a class="rightMenu-item" id="menu-copy" href="javascript:void(0);"><i class="anzhiyufont anzhiyu-icon-copy"></i><span>复制地址</span></a><a class="rightMenu-item" id="menu-commentBarrage" href="javascript:void(0);"><i class="anzhiyufont anzhiyu-icon-message"></i><span class="menu-commentBarrage-text">关闭热评</span></a><a class="rightMenu-item" id="menu-darkmode" href="javascript:void(0);"><i class="anzhiyufont anzhiyu-icon-circle-half-stroke"></i><span class="menu-darkmode-text">深色模式</span></a><a class="rightMenu-item" id="menu-translate" href="javascript:void(0);"><i class="anzhiyufont anzhiyu-icon-language"></i><span>轉為繁體</span></a></div></div><div id="rightmenu-mask"></div><div><script src="/js/utils.js"></script><script src="/js/main.js"></script><script src="/js/tw_cn.js"></script><script src="https://cdn.cbd.int/@fancyapps/ui@5.0.28/dist/fancybox/fancybox.umd.js"></script><script src="https://cdn.cbd.int/instant.page@5.2.0/instantpage.js" type="module"></script><script src="https://cdn.cbd.int/vanilla-lazyload@17.8.5/dist/lazyload.iife.min.js"></script><script src="https://cdn.cbd.int/node-snackbar@0.1.16/dist/snackbar.min.js"></script><canvas id="universe"></canvas><script async src="https://npm.elemecdn.com/anzhiyu-theme-static@1.0.0/dark/dark.js"></script><script>// 消除控制台打印
var HoldLog = console.log;
console.log = function () {};
let now1 = new Date();
queueMicrotask(() => {
  const Log = function () {
    HoldLog.apply(console, arguments);
  }; //在恢复前输出日志
  const grt = new Date("04/01/2025 00:00:00"); //此处修改你的建站时间或者网站上线时间
  now1.setTime(now1.getTime() + 250);
  const days = (now1 - grt) / 1000 / 60 / 60 / 24;
  const dnum = Math.floor(days);
  const ascll = [
    `欢迎使用安知鱼!`,
    `生活明朗, 万物可爱`,
    `
        
       █████╗ ███╗   ██╗███████╗██╗  ██╗██╗██╗   ██╗██╗   ██╗
      ██╔══██╗████╗  ██║╚══███╔╝██║  ██║██║╚██╗ ██╔╝██║   ██║
      ███████║██╔██╗ ██║  ███╔╝ ███████║██║ ╚████╔╝ ██║   ██║
      ██╔══██║██║╚██╗██║ ███╔╝  ██╔══██║██║  ╚██╔╝  ██║   ██║
      ██║  ██║██║ ╚████║███████╗██║  ██║██║   ██║   ╚██████╔╝
      ╚═╝  ╚═╝╚═╝  ╚═══╝╚══════╝╚═╝  ╚═╝╚═╝   ╚═╝    ╚═════╝
        
        `,
    "已上线",
    dnum,
    "天",
    "©2025 By 安知鱼 V1.6.14",
  ];
  const ascll2 = [`NCC2-036`, `调用前置摄像头拍照成功，识别为【小笨蛋】.`, `Photo captured: `, `🤪`];

  setTimeout(
    Log.bind(
      console,
      `\n%c${ascll[0]} %c ${ascll[1]} %c ${ascll[2]} %c${ascll[3]}%c ${ascll[4]}%c ${ascll[5]}\n\n%c ${ascll[6]}\n`,
      "color:#425AEF",
      "",
      "color:#425AEF",
      "color:#425AEF",
      "",
      "color:#425AEF",
      ""
    )
  );
  setTimeout(
    Log.bind(
      console,
      `%c ${ascll2[0]} %c ${ascll2[1]} %c \n${ascll2[2]} %c\n${ascll2[3]}\n`,
      "color:white; background-color:#4fd953",
      "",
      "",
      'background:url("https://npm.elemecdn.com/anzhiyu-blog@1.1.6/img/post/common/tinggge.gif") no-repeat;font-size:450%'
    )
  );

  setTimeout(Log.bind(console, "%c WELCOME %c 你好，小笨蛋.", "color:white; background-color:#4f90d9", ""));

  setTimeout(
    console.warn.bind(
      console,
      "%c ⚡ Powered by 安知鱼 %c 你正在访问 Joie 的博客.",
      "color:white; background-color:#f0ad4e",
      ""
    )
  );

  setTimeout(Log.bind(console, "%c W23-12 %c 你已打开控制台.", "color:white; background-color:#4f90d9", ""));

  setTimeout(
    console.warn.bind(console, "%c S013-782 %c 你现在正处于监控中.", "color:white; background-color:#d9534f", "")
  );
});</script><script async src="/anzhiyu/random.js"></script><script async="async">(function () {
  var grt = new Date("04/01/2025 00:00:00"); //设置网站上线时间
  var now = new Date();
  var dnum;
  var hnum;
  var mnum;
  var snum;
  var nowHour;

  // 计算并更新天数、小时数、分钟数和秒数
  function updateTime() {
    now = new Date(); // 更新 now 的值
    nowHour = now.getHours(); // 更新 nowHour 的值
    var days = (now - grt) / 1000 / 60 / 60 / 24;
    dnum = Math.floor(days);
    var hours = (now - grt) / 1000 / 60 / 60 - 24 * dnum;
    hnum = Math.floor(hours);
    if (String(hnum).length == 1) {
      hnum = "0" + hnum;
    }
    var minutes = (now - grt) / 1000 / 60 - 24 * 60 * dnum - 60 * hnum;
    mnum = Math.floor(minutes);
    if (String(mnum).length == 1) {
      mnum = "0" + mnum;
    }
    var seconds = (now - grt) / 1000 - 24 * 60 * 60 * dnum - 60 * 60 * hnum - 60 * mnum;
    snum = Math.round(seconds);
    if (String(snum).length == 1) {
      snum = "0" + snum;
    }
  }

  // 更新网页中显示的网站运行时间
  function updateHtml() {
    const footer = document.getElementById("footer");
    if (!footer) return
    let currentTimeHtml = "";
    if (nowHour < 18 && nowHour >= 9) {
      // 如果是上班时间，默认就是"安知鱼-上班摸鱼中.svg"图片，不需要更改
      currentTimeHtml = `本站居然运行了 ${dnum} 天<span id='runtime'> ${hnum} 小时 ${mnum} 分 ${snum} 秒 </span><i class='anzhiyufont anzhiyu-icon-heartbeat' style='color:red'></i>`;
    } else {
      // 如果是下班时间，插入"安知鱼-下班啦.svg"图片
      let img = document.querySelector("#workboard .workSituationImg");
      if (img != null) {
        img.src = "";
        img.title = "";
        img.alt = "";
      }

      currentTimeHtml = `本站居然运行了 ${dnum} 天<span id='runtime'> ${hnum} 小时 ${mnum} 分 ${snum} 秒 </span><i class='anzhiyufont anzhiyu-icon-heartbeat' style='color:red'></i>`;
    }

    if (document.getElementById("runtimeTextTip")) {
      document.getElementById("runtimeTextTip").innerHTML = currentTimeHtml;
    }
  }

  setInterval(() => {
    updateTime();
    updateHtml();
  }, 1000);
})();</script><div class="js-pjax"><input type="hidden" name="page-type" id="page-type" value="post"></div><script>var visitorMail = "";
</script><script async data-pjax src="https://cdn.cbd.int/anzhiyu-theme-static@1.0.0/waterfall/waterfall.js"></script><script src="https://lf3-cdn-tos.bytecdntp.com/cdn/expire-1-M/qrcodejs/1.0.0/qrcode.min.js"></script><link rel="stylesheet" href="https://cdn.cbd.int/anzhiyu-theme-static@1.1.9/icon/ali_iconfont_css.css"><link rel="stylesheet" href="https://cdn.cbd.int/anzhiyu-theme-static@1.0.0/aplayer/APlayer.min.css" media="print" onload="this.media='all'"><script src="https://cdn.cbd.int/anzhiyu-blog-static@1.0.1/js/APlayer.min.js"></script><script src="https://cdn.cbd.int/hexo-anzhiyu-music@1.0.1/assets/js/Meting2.min.js"></script><script src="https://cdn.cbd.int/pjax@0.2.8/pjax.min.js"></script><script>let pjaxSelectors = ["head > title","#config-diff","#body-wrap","#rightside-config-hide","#rightside-config-show",".js-pjax"]
var pjax = new Pjax({
  elements: 'a:not([target="_blank"])',
  selectors: pjaxSelectors,
  cacheBust: false,
  analytics: false,
  scrollRestoration: false
})

document.addEventListener('pjax:send', function () {
  // removeEventListener scroll 
  anzhiyu.removeGlobalFnEvent('pjax')
  anzhiyu.removeGlobalFnEvent('themeChange')

  document.getElementById('rightside').classList.remove('rightside-show')
  
  if (window.aplayers) {
    for (let i = 0; i < window.aplayers.length; i++) {
      if (!window.aplayers[i].options.fixed) {
        window.aplayers[i].destroy()
      }
    }
  }

  typeof typed === 'object' && typed.destroy()

  //reset readmode
  const $bodyClassList = document.body.classList
  $bodyClassList.contains('read-mode') && $bodyClassList.remove('read-mode')
})

document.addEventListener('pjax:complete', function () {
  window.refreshFn()

  document.querySelectorAll('script[data-pjax]').forEach(item => {
    const newScript = document.createElement('script')
    const content = item.text || item.textContent || item.innerHTML || ""
    Array.from(item.attributes).forEach(attr => newScript.setAttribute(attr.name, attr.value))
    newScript.appendChild(document.createTextNode(content))
    item.parentNode.replaceChild(newScript, item)
  })

  GLOBAL_CONFIG.islazyload && window.lazyLoadInstance.update()

  typeof panguInit === 'function' && panguInit()

  // google analytics
  typeof gtag === 'function' && gtag('config', '', {'page_path': window.location.pathname});

  // baidu analytics
  typeof _hmt === 'object' && _hmt.push(['_trackPageview',window.location.pathname]);

  typeof loadMeting === 'function' && document.getElementsByClassName('aplayer').length && loadMeting()

  // prismjs
  typeof Prism === 'object' && Prism.highlightAll()
})

document.addEventListener('pjax:error', e => {
  if (e.request.status === 404) {
    pjax.loadUrl('/404.html')
  }
})</script><script charset="UTF-8" src="https://cdn.cbd.int/anzhiyu-theme-static@1.1.5/accesskey/accesskey.js"></script></div><div id="popup-window"><div class="popup-window-title">通知</div><div class="popup-window-divider"></div><div class="popup-window-content"><div class="popup-tip">你好呀</div><div class="popup-link"><i class="anzhiyufont anzhiyu-icon-arrow-circle-right"></i></div></div></div></body></html>